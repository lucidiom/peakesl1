var img,canvas,p,branding,wht_color="rgb(24,69,150)",wht_width=4,framerate=30;function preload(){branding=loadImage("https://brstr.nyc3.cdn.digitaloceanspaces.com/web/images/logo.png")}function setup(){document.getElementById("whiteboard");canvas=createCanvas(100,100),frameRate(framerate),(img=createGraphics(100,100)).stroke(0),img.noFill(),canvas.parent("whiteboard"),img.parent("whiteboard"),image(img,0,0)}function initWhiteboard(){var e=document.getElementById("whiteboard");canvas.resize(e.clientWidth,e.clientHeight),(img=createGraphics(width,height)).stroke(0),img.noFill(),canvas.parent("whiteboard"),img.parent("whiteboard"),image(img,0,0)}function draw(){whiteboard}function mouseDragged(){if(whiteboard&&drawenabled&&("student"!=role||"false"!=studentrights)){img.stroke(color(wht_color)),img.strokeWeight(wht_width),img.line(mouseX,mouseY,pmouseX,pmouseY),image(img,0,0);var e={cheight:canvas.height,cwidth:canvas.width,x1:mouseX,y1:mouseY,x2:pmouseX,y2:pmouseY,color:wht_color,width:wht_width};sendWhiteboardData(e)}}function addDrawing(e,i,t,a,r,n,o,d){whiteboard&&("false"==studentrights&&"teacher"==role||(img.stroke(color(o)),img.strokeWeight(d),t=t/e*canvas.width,a=a/i*canvas.height,r=r/e*canvas.width,n=n/i*canvas.height,img.line(t,a,r,n),image(img,0,0)))}function windowResized(){if(whiteboard){var e=document.getElementById("whiteboard");canvas.resize(e.clientWidth,e.clientHeight),image(img,0,0),redraw()}}function eraseWhiteboard(){document.getElementById("whiteboard");(img=createGraphics(width,height)).background(255),img.stroke(0),img.noFill(),img.parent("whiteboard"),image(img,0,0)}function downloadWhiteboard(){saveCanvas(canvas,"brainstr_whiteboard","jpg"),redraw()}