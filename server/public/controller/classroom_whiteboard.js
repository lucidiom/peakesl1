var _0x28526d = _0x1297; (function (_0x1897ad, _0x1c1206) { var _0x194d00 = _0x1297, _0x58126d = _0x1897ad(); while (!![]) { try { var _0x28cdd8 = -parseInt(_0x194d00(0x157)) / 0x1 * (-parseInt(_0x194d00(0x18f)) / 0x2) + parseInt(_0x194d00(0x16c)) / 0x3 * (-parseInt(_0x194d00(0x175)) / 0x4) + parseInt(_0x194d00(0x148)) / 0x5 + parseInt(_0x194d00(0x18b)) / 0x6 + parseInt(_0x194d00(0x17e)) / 0x7 + -parseInt(_0x194d00(0x14b)) / 0x8 + -parseInt(_0x194d00(0x19c)) / 0x9; if (_0x28cdd8 === _0x1c1206) break; else _0x58126d['push'](_0x58126d['shift']()); } catch (_0x446c80) { _0x58126d['push'](_0x58126d['shift']()); } } }(_0x3532, 0x1c195)); var whiteboardHeight = 0x0, lastWhiteboardData = {}, rx = ![]; whiteboard_canvas = new fabric[(_0x28526d(0x1ae))](_0x28526d(0x159), { 'backgroundColor': _0x28526d(0x19e) }); const pickrPen = Pickr[_0x28526d(0x168)]({ 'el': '#colorpicker-indicator', 'theme': _0x28526d(0x14a), 'default': _0x28526d(0x170), 'position': _0x28526d(0x18c), 'comparison': ![], 'components': { 'preview': !![], 'opacity': ![], 'hue': !![], 'interaction': { 'save': ![] } }, 'strings': { 'save': $[_0x28526d(0x172)]('_bstr.general.apply') } }); $(_0x28526d(0x15c))['on'](_0x28526d(0x1a6), function () { toggleWhiteboard(); }); function toggleWhiteboard() { var _0x49c354 = _0x28526d; !whiteboard ? (role == _0x49c354(0x15a) && (sendMessage(_0x49c354(0x143)), sendWhiteboard()), openWhiteboard()) : (role == 'teacher' && sendMessage('{\x22type\x22:\x20\x22command\x22,\x20\x22cmd\x22:\x20\x22whiteboard_close\x22\x20}'), closeWhiteboard()); } function openWhiteboard() { var _0x137f55 = _0x28526d; whiteboard = !![], $(_0x137f55(0x199))[_0x137f55(0x16e)]('display', _0x137f55(0x171)), $(_0x137f55(0x189))[_0x137f55(0x16e)](_0x137f55(0x146), _0x137f55(0x171)), $(_0x137f55(0x166))[_0x137f55(0x16e)](_0x137f55(0x146), 'block'), $('#whiteboard')['width']($(_0x137f55(0x180))['height']() / 0x9 * 0x10), $(_0x137f55(0x180))[_0x137f55(0x16e)](_0x137f55(0x160), ($(_0x137f55(0x166))[_0x137f55(0x1b1)]() - 0x1e) / 0x10 * 0x9), $(_0x137f55(0x15c))['addClass'](_0x137f55(0x196)), $(_0x137f55(0x165))[_0x137f55(0x1a7)](_0x137f55(0x196)), whiteboard_canvas[_0x137f55(0x17a)]($(_0x137f55(0x180))[_0x137f55(0x1b1)]()), whiteboard_canvas[_0x137f55(0x142)]($(_0x137f55(0x180))[_0x137f55(0x149)]()), whiteboardHeight = $(_0x137f55(0x180))['height'](), $(window)['on']('resize', function () { var _0x500dc2 = _0x137f55; $(_0x500dc2(0x180))['width']($(_0x500dc2(0x180))[_0x500dc2(0x149)]() / 0x9 * 0x10), $(_0x500dc2(0x180))[_0x500dc2(0x16e)]('max-height', ($('#content-whiteboard')[_0x500dc2(0x1b1)]() - 0x1e) / 0x10 * 0x9), whiteboard_canvas[_0x500dc2(0x17a)]($(_0x500dc2(0x180))['width']()), whiteboard_canvas[_0x500dc2(0x142)]($('#whiteboard')[_0x500dc2(0x149)]()), scaleWhiteboard(whiteboardHeight), whiteboardHeight = $(_0x500dc2(0x180))[_0x500dc2(0x149)](); }), whiteboard_canvas[_0x137f55(0x192)] = !![], whiteboard_canvas[_0x137f55(0x1a5)][_0x137f55(0x1b1)] = parseInt($(_0x137f55(0x190))[_0x137f55(0x13f)]()); var _0x15c9ad = pickrPen[_0x137f55(0x162)]()[_0x137f55(0x155)](); whiteboard_canvas[_0x137f55(0x1a5)][_0x137f55(0x14f)] = 'rgb(' + Math[_0x137f55(0x178)](_0x15c9ad[0x0]) + ',' + Math[_0x137f55(0x178)](_0x15c9ad[0x1]) + ',' + Math[_0x137f55(0x178)](_0x15c9ad[0x2]) + ')', whiteboard_canvas['on'](_0x137f55(0x19f), function (_0xc582fc) { var _0x4d490f = _0x137f55; if (rx) return; console[_0x4d490f(0x150)](_0x4d490f(0x19f)), sendWhiteboard(); }), whiteboard_canvas['on'](_0x137f55(0x14c), function (_0x157ddb) { if (rx) return; console['log']('object:added'), sendWhiteboard(); }), whiteboard_canvas['on'](_0x137f55(0x1aa), function (_0x3b11fe) { var _0x2710bd = _0x137f55; if (rx) return; console[_0x2710bd(0x150)]('object:removed'), sendWhiteboard(); }), whiteboard_canvas['on'](_0x137f55(0x154), function (_0x3bb71f) { var _0x4ebd3a = _0x137f55; if (rx) return; console['log'](_0x4ebd3a(0x154)), sendWhiteboard(); }), whiteboard_canvas['on'](_0x137f55(0x18e), function (_0x8a2f09) { var _0x5cf3c9 = _0x137f55; if (rx) return; console['log'](_0x5cf3c9(0x18e)), sendWhiteboard(); }), whiteboard_canvas['on'](_0x137f55(0x1ba), function (_0x1c5e09) { if (rx) return; }), whiteboard_canvas['on'](_0x137f55(0x15b), function (_0xcc0326) { var _0x50d4a3 = _0x137f55; $(_0x50d4a3(0x145))[_0x50d4a3(0x16e)]('display', _0x50d4a3(0x164)); switch (whiteboard_canvas[_0x50d4a3(0x137)]()[_0x50d4a3(0x1a9)](_0x50d4a3(0x140))) { case _0x50d4a3(0x14e): $(_0x50d4a3(0x152))[_0x50d4a3(0x13f)](whiteboard_canvas[_0x50d4a3(0x137)]()['fontSize']), $(_0x50d4a3(0x19a))['removeClass']('d-none'), $('#whiteboard-controls-text')[_0x50d4a3(0x1b9)](_0x50d4a3(0x144)); break; default: $(_0x50d4a3(0x19a))['removeClass'](_0x50d4a3(0x144)), $(_0x50d4a3(0x19a))[_0x50d4a3(0x1b9)](_0x50d4a3(0x184)); } }), whiteboard_canvas['on'](_0x137f55(0x15e), function (_0x5841a3) { var _0x2b8505 = _0x137f55; $(_0x2b8505(0x145))[_0x2b8505(0x16e)](_0x2b8505(0x146), _0x2b8505(0x171)), $('#whiteboard-controls-text')[_0x2b8505(0x1a7)](_0x2b8505(0x144)), $(_0x2b8505(0x19a))['addClass'](_0x2b8505(0x184)); }), switchToRemoteVideo(), whiteboard_canvas[_0x137f55(0x135)](), sendWhiteboard(); } function closeWhiteboard() { var _0x382f71 = _0x28526d; whiteboard = ![], $(_0x382f71(0x166))[_0x382f71(0x16e)](_0x382f71(0x146), _0x382f71(0x171)), $(_0x382f71(0x189))[_0x382f71(0x16e)](_0x382f71(0x146), 'video'), $(_0x382f71(0x15c))[_0x382f71(0x1a7)](_0x382f71(0x196)), $('#content-video')[_0x382f71(0x16e)]('display', 'block'), switchToLocalVideo(); } function sendWhiteboard() { var _0x17743e = _0x28526d; if (role == _0x17743e(0x1b5) && studentrights == 'false') return; var _0x1bcf76 = whiteboard_canvas['toDatalessJSON'](); if (lastWhiteboardData == _0x1bcf76) return; console[_0x17743e(0x150)]('TX'), sendMessage(_0x17743e(0x1a3) + uData[_0x17743e(0x187)] + _0x17743e(0x153) + $(_0x17743e(0x180))[_0x17743e(0x1b1)]() + _0x17743e(0x1ac) + $(_0x17743e(0x180))['height']() + _0x17743e(0x1b7) + JSON[_0x17743e(0x173)](_0x1bcf76) + '}'); } function whiteboardToggleStudentRights() { var _0x9cf087 = _0x28526d; studentrights == _0x9cf087(0x19d) ? (studentrights = _0x9cf087(0x167), $(_0x9cf087(0x181))[_0x9cf087(0x1a7)](_0x9cf087(0x196))) : (studentrights = _0x9cf087(0x19d), $('#video-control-whiteboard-unlock')[_0x9cf087(0x1b9)](_0x9cf087(0x196))), sendMessage('{\x22type\x22:\x20\x22command\x22,\x20\x22cmd\x22:\x20\x22whiteboard_student\x22,\x20\x22value\x22:\x20\x22' + studentrights + _0x9cf087(0x13e)); } function whiteBoardDelete() { var _0x2bcd04 = _0x28526d; sendMessage(_0x2bcd04(0x194)), eraseWhiteboard(); } function eraseWhiteboard() { whiteboard_canvas['clear'](); } function setWhiteboardData(_0x511033) { var _0x518a8e = _0x28526d; rx = !![], whiteboard_canvas[_0x518a8e(0x1ab)](_0x511033[_0x518a8e(0x1b8)]), scaleWhiteboard(_0x511033[_0x518a8e(0x149)]), rx = ![]; } function scaleWhiteboard(_0x32d8bc) { var _0x16fd72 = _0x28526d, _0x56f042 = $(_0x16fd72(0x180))[_0x16fd72(0x149)]() / _0x32d8bc, _0x3e19d2 = whiteboard_canvas['getObjects'](); for (var _0x11f3ad in _0x3e19d2) { var _0x3b086f = _0x3e19d2[_0x11f3ad][_0x16fd72(0x19b)], _0x3219b8 = _0x3e19d2[_0x11f3ad][_0x16fd72(0x13b)], _0xd0ceba = _0x3e19d2[_0x11f3ad][_0x16fd72(0x193)], _0x49a0af = _0x3e19d2[_0x11f3ad]['top'], _0x577069 = _0x3b086f * _0x56f042, _0x158a35 = _0x3219b8 * _0x56f042, _0x30d004 = _0xd0ceba * _0x56f042, _0x33d552 = _0x49a0af * _0x56f042; _0x3e19d2[_0x11f3ad][_0x16fd72(0x19b)] = _0x577069, _0x3e19d2[_0x11f3ad][_0x16fd72(0x13b)] = _0x158a35, _0x3e19d2[_0x11f3ad][_0x16fd72(0x193)] = _0x30d004, _0x3e19d2[_0x11f3ad][_0x16fd72(0x182)] = _0x33d552, _0x3e19d2[_0x11f3ad][_0x16fd72(0x1a8)](); } whiteboard_canvas[_0x16fd72(0x135)](), whiteboard_canvas[_0x16fd72(0x1a1)](), whiteboard_canvas[_0x16fd72(0x135)](); } pickrPen['on'](_0x28526d(0x147), (_0x3166b3, _0x1ed04a) => { var _0x23f19c = _0x28526d, _0x4def1a = _0x3166b3[_0x23f19c(0x155)](); whiteboard_canvas['freeDrawingBrush']['color'] = 'rgb(' + Math['round'](_0x4def1a[0x0]) + ',' + Math[_0x23f19c(0x178)](_0x4def1a[0x1]) + ',' + Math[_0x23f19c(0x178)](_0x4def1a[0x2]) + ')'; if (whiteboard_canvas[_0x23f19c(0x137)]() != undefined) { switch (whiteboard_canvas[_0x23f19c(0x137)]()[_0x23f19c(0x1a9)](_0x23f19c(0x140))) { case 'i-text': whiteboard_canvas[_0x23f19c(0x137)]()[_0x23f19c(0x197)](_0x23f19c(0x15d), _0x3166b3[_0x23f19c(0x185)]()[_0x23f19c(0x13a)]()); break; case _0x23f19c(0x1af): whiteboard_canvas[_0x23f19c(0x137)]()[_0x23f19c(0x197)]('fill', _0x3166b3['toHEXA']()[_0x23f19c(0x13a)]()); break; case _0x23f19c(0x1b0): whiteboard_canvas['getActiveObject']()[_0x23f19c(0x197)](_0x23f19c(0x15d), _0x3166b3[_0x23f19c(0x185)]()[_0x23f19c(0x13a)]()); break; case 'rect': whiteboard_canvas[_0x23f19c(0x137)]()[_0x23f19c(0x197)](_0x23f19c(0x15d), _0x3166b3[_0x23f19c(0x185)]()[_0x23f19c(0x13a)]()); break; case _0x23f19c(0x134): whiteboard_canvas[_0x23f19c(0x137)]()[_0x23f19c(0x197)](_0x23f19c(0x15f), _0x3166b3['toHEXA']()[_0x23f19c(0x13a)]()); break; default: }whiteboard_canvas['requestRenderAll'](); } }), $(_0x28526d(0x190))['on'](_0x28526d(0x147), function () { var _0x1c0e8d = _0x28526d; whiteboard_canvas[_0x1c0e8d(0x1a5)]['width'] = parseInt($(this)[_0x1c0e8d(0x13f)]()); }), $(_0x28526d(0x176))['on'](_0x28526d(0x1a6), function () { var _0x1005f5 = _0x28526d; whiteboard_canvas['isDrawingMode'] = !whiteboard_canvas[_0x1005f5(0x192)]; if (whiteboard_canvas[_0x1005f5(0x192)]) { $('#video-control-whiteboard-drawing')['addClass'](_0x1005f5(0x196)), $(_0x1005f5(0x186))[_0x1005f5(0x158)](_0x1005f5(0x177), 'display:\x20inline-block\x20!important;'); return; } $(_0x1005f5(0x176))['removeClass']('active'), $(_0x1005f5(0x186))[_0x1005f5(0x158)](_0x1005f5(0x177), _0x1005f5(0x17b)); }); function downloadWhiteboard() { var _0x289ef7 = _0x28526d, _0x5d72cc = whiteboard_canvas[_0x289ef7(0x1b6)](_0x289ef7(0x18a))['replace']('image/png', _0x289ef7(0x156)), _0x408980 = moment(), _0x519bf1 = document[_0x289ef7(0x188)]('a'); _0x519bf1[_0x289ef7(0x198)] = _0x289ef7(0x151) + _0x408980[_0x289ef7(0x14d)](_0x289ef7(0x138)) + '.png', _0x519bf1[_0x289ef7(0x141)] = _0x5d72cc, _0x519bf1[_0x289ef7(0x1a6)](); } $(_0x28526d(0x136))['on'](_0x28526d(0x1a6), function () { var _0x4c9fa7 = _0x28526d, _0x312da6 = new fabric['IText'](_0x4c9fa7(0x13c), { 'left': getWhiteboardMiddleWidth() - 0x19, 'top': getWhiteboardMiddleHeight() - 0x19, 'fill': pickrPen['getColor']()[_0x4c9fa7(0x185)]()[_0x4c9fa7(0x13a)](), 'fontSize': 0x16 }); whiteboard_canvas[_0x4c9fa7(0x16b)](_0x312da6), whiteboard_canvas[_0x4c9fa7(0x135)](); }), $('#video-control-whiteboard-form-square')['on'](_0x28526d(0x1a6), function () { var _0x22d47c = _0x28526d, _0x56b2ce = new fabric['Rect']({ 'left': getWhiteboardMiddleWidth() - 0x19, 'top': getWhiteboardMiddleHeight() - 0x19, 'fill': pickrPen['getColor']()[_0x22d47c(0x185)]()[_0x22d47c(0x13a)](), 'width': 0x32, 'height': 0x32 }); whiteboard_canvas[_0x22d47c(0x16b)](_0x56b2ce), whiteboard_canvas[_0x22d47c(0x135)](); }), $(_0x28526d(0x16f))['on'](_0x28526d(0x1a6), function () { var _0x37acdd = _0x28526d, _0x18f4ee = new fabric['Circle']({ 'left': getWhiteboardMiddleWidth() - 0x19, 'top': getWhiteboardMiddleHeight() - 0x19, 'fill': pickrPen[_0x37acdd(0x162)]()[_0x37acdd(0x185)]()[_0x37acdd(0x13a)](), 'radius': 0x32 }); whiteboard_canvas[_0x37acdd(0x16b)](_0x18f4ee), whiteboard_canvas[_0x37acdd(0x135)](); }), $(_0x28526d(0x174))['on'](_0x28526d(0x1a6), function () { var _0xba471a = _0x28526d, _0x2eed5d = new fabric[(_0xba471a(0x1a4))]({ 'left': getWhiteboardMiddleWidth() - 0x19, 'top': getWhiteboardMiddleHeight() - 0x19, 'fill': pickrPen[_0xba471a(0x162)]()[_0xba471a(0x185)]()[_0xba471a(0x13a)](), 'width': 0x32, 'height': 0x32 }); whiteboard_canvas[_0xba471a(0x16b)](_0x2eed5d), whiteboard_canvas[_0xba471a(0x135)](); }); function _0x1297(_0x247c75, _0xd3c022) { var _0x3532ea = _0x3532(); return _0x1297 = function (_0x12975b, _0x92be9f) { _0x12975b = _0x12975b - 0x134; var _0x3be60c = _0x3532ea[_0x12975b]; return _0x3be60c; }, _0x1297(_0x247c75, _0xd3c022); } function getWhiteboardMiddleWidth() { var _0x638370 = _0x28526d; return whiteboard_canvas[_0x638370(0x1b1)] / 0x2; } function _0x3532() { var _0x39bdae = ['requestRenderAll', 'Canvas', 'triangle', 'circle', 'width', 'fontStyle', 'normal', 'discardActiveObject', 'student', 'toDataURL', ',\x20\x22data\x22:\x20', 'data', 'addClass', 'path:created', 'path', 'renderAll', '#video-control-whiteboard-text', 'getActiveObject', 'YYYMMDD_HHmmSS', '#video-control-whiteboard-text-italic', 'toString', 'scaleY', 'Text', 'underline', '\x22\x20}', 'val', 'type', 'href', 'setHeight', '{\x22type\x22:\x20\x22command\x22,\x20\x22cmd\x22:\x20\x22whiteboard_open\x22\x20}', 'd-inline-block', '#video-control-whiteboard-delete-item', 'display', 'change', '1015740uDCdHB', 'height', 'nano', '1720080XFtHiE', 'object:added', 'format', 'i-text', 'color', 'log', 'peakesl_whiteboard_', '#whiteboard-controls-fontSize', '\x22,\x20\x22width\x22:\x20', 'object:moving', 'toRGBA', 'image/octet-stream', '5whGkhH', 'attr', 'c-whiteboard', 'teacher', 'selection:created', '#video-control-whiteboard', 'fill', 'selection:cleared', 'stroke', 'max-height', 'fontWeight', 'getColor', 'setSelectionStyles', 'inline-block', '#video-control-screensharing', '#content-whiteboard', 'false', 'create', '#video-control-whiteboard-text-align-right', 'getActiveObjects', 'add', '474651CtWJSn', 'bold', 'css', '#video-control-whiteboard-form-circle', '#184596', 'none', 'i18n', 'stringify', '#video-control-whiteboard-form-triangle', '4aMasyN', '#video-control-whiteboard-drawing', 'style', 'round', 'fontSize', 'setWidth', 'display:\x20none\x20!important;', '#video-control-whiteboard-text-align-left', '#video-control-whiteboard-text-underline', '997675PilBbV', 'center', '#whiteboard', '#video-control-whiteboard-unlock', 'top', '#video-control-whiteboard-text-align-center', 'd-none', 'toHEXA', '#whiteboard-controls-drawing', '_id', 'createElement', '#content-screensharing', 'image/png', '1346460GXeOfM', 'bottom-end', 'textAlign', 'object:scaling', '9672IivGuW', '#whiteboard-controls-brushwidth', 'remove', 'isDrawingMode', 'left', '{\x22type\x22:\x20\x22command\x22,\x20\x22cmd\x22:\x20\x22whiteboard_erase\x22}', 'italic', 'active', 'set', 'download', '#content-video', '#whiteboard-controls-text', 'scaleX', '953487qIirRN', 'true', 'rgb(255,255,255)', 'object:modified', 'getSelectionStyles', 'calcOffset', 'selectionEnd', '{\x22type\x22:\x20\x22whiteboard_data\x22,\x20\x22id\x22:\x20\x22', 'Triangle', 'freeDrawingBrush', 'click', 'removeClass', 'setCoords', 'get', 'object:removed', 'loadFromJSON', ',\x20\x22height\x22:\x20']; _0x3532 = function () { return _0x39bdae; }; return _0x3532(); } function getWhiteboardMiddleHeight() { return whiteboard_canvas['height'] / 0x2; } $('#video-control-whiteboard-text-bold')['on']('click', function () { var _0x46fb1d = _0x28526d; if (whiteboard_canvas[_0x46fb1d(0x137)]()[_0x46fb1d(0x1a2)] == 0x0 || whiteboard_canvas[_0x46fb1d(0x137)]()[_0x46fb1d(0x1a0)]()[0x0] == undefined) { whiteboard_canvas[_0x46fb1d(0x137)]()['fontWeight'] == _0x46fb1d(0x1b3) || whiteboard_canvas[_0x46fb1d(0x137)]()['fontWeight'] == undefined ? whiteboard_canvas[_0x46fb1d(0x137)]()[_0x46fb1d(0x197)](_0x46fb1d(0x161), _0x46fb1d(0x16d)) : whiteboard_canvas[_0x46fb1d(0x137)]()['set'](_0x46fb1d(0x161), 'normal'); whiteboard_canvas[_0x46fb1d(0x1ad)](), sendWhiteboard(); return; } whiteboard_canvas[_0x46fb1d(0x137)]()[_0x46fb1d(0x1a0)]()[0x0][_0x46fb1d(0x161)] == _0x46fb1d(0x1b3) || whiteboard_canvas[_0x46fb1d(0x137)]()['getSelectionStyles']()[0x0][_0x46fb1d(0x161)] == undefined ? whiteboard_canvas[_0x46fb1d(0x137)]()[_0x46fb1d(0x163)]({ 'fontWeight': _0x46fb1d(0x16d) }) : whiteboard_canvas[_0x46fb1d(0x137)]()[_0x46fb1d(0x163)]({ 'fontWeight': _0x46fb1d(0x1b3) }), whiteboard_canvas['requestRenderAll'](), sendWhiteboard(); }), $(_0x28526d(0x139))['on']('click', function () { var _0x2799c2 = _0x28526d; if (whiteboard_canvas[_0x2799c2(0x137)]()[_0x2799c2(0x1a2)] == 0x0 || whiteboard_canvas[_0x2799c2(0x137)]()[_0x2799c2(0x1a0)]()[0x0] == undefined) { whiteboard_canvas['getActiveObject']()[_0x2799c2(0x1b2)] == _0x2799c2(0x1b3) || whiteboard_canvas[_0x2799c2(0x137)]()[_0x2799c2(0x1b2)] == undefined ? whiteboard_canvas[_0x2799c2(0x137)]()[_0x2799c2(0x197)]('fontStyle', 'italic') : whiteboard_canvas['getActiveObject']()[_0x2799c2(0x197)](_0x2799c2(0x1b2), 'normal'); whiteboard_canvas[_0x2799c2(0x1ad)](), sendWhiteboard(); return; } whiteboard_canvas[_0x2799c2(0x137)]()[_0x2799c2(0x1a0)]()[0x0][_0x2799c2(0x1b2)] == _0x2799c2(0x1b3) || whiteboard_canvas[_0x2799c2(0x137)]()[_0x2799c2(0x1a0)]()[0x0][_0x2799c2(0x1b2)] == undefined ? whiteboard_canvas['getActiveObject']()['setSelectionStyles']({ 'fontStyle': _0x2799c2(0x195) }) : whiteboard_canvas[_0x2799c2(0x137)]()['setSelectionStyles']({ 'fontStyle': 'normal' }), whiteboard_canvas[_0x2799c2(0x1ad)](), sendWhiteboard(); }), $(_0x28526d(0x17d))['on'](_0x28526d(0x1a6), function () { var _0x264fbf = _0x28526d; if (whiteboard_canvas['getActiveObject']()[_0x264fbf(0x1a2)] == 0x0 || whiteboard_canvas[_0x264fbf(0x137)]()[_0x264fbf(0x1a0)]()[0x0] == undefined) { whiteboard_canvas[_0x264fbf(0x137)]()[_0x264fbf(0x13d)] == ![] || whiteboard_canvas[_0x264fbf(0x137)]()[_0x264fbf(0x13d)] == undefined ? whiteboard_canvas['getActiveObject']()[_0x264fbf(0x197)]('underline', !![]) : whiteboard_canvas[_0x264fbf(0x137)]()[_0x264fbf(0x197)](_0x264fbf(0x13d), ![]); whiteboard_canvas[_0x264fbf(0x1ad)](), sendWhiteboard(); return; } whiteboard_canvas[_0x264fbf(0x137)]()['getSelectionStyles']()[0x0][_0x264fbf(0x13d)] == ![] || whiteboard_canvas[_0x264fbf(0x137)]()['getSelectionStyles']()[0x0][_0x264fbf(0x13d)] == undefined ? whiteboard_canvas[_0x264fbf(0x137)]()[_0x264fbf(0x163)]({ 'underline': !![] }) : whiteboard_canvas[_0x264fbf(0x137)]()[_0x264fbf(0x163)]({ 'underline': ![] }), whiteboard_canvas[_0x264fbf(0x1ad)](), sendWhiteboard(); }), $(_0x28526d(0x17c))['on'](_0x28526d(0x1a6), function () { var _0xae3704 = _0x28526d; whiteboard_canvas[_0xae3704(0x137)]()[_0xae3704(0x197)](_0xae3704(0x18d), _0xae3704(0x193)), whiteboard_canvas['requestRenderAll'](), sendWhiteboard(); }), $(_0x28526d(0x183))['on'](_0x28526d(0x1a6), function () { var _0x213a94 = _0x28526d; whiteboard_canvas[_0x213a94(0x137)]()[_0x213a94(0x197)](_0x213a94(0x18d), _0x213a94(0x17f)), whiteboard_canvas[_0x213a94(0x1ad)](), sendWhiteboard(); }), $(_0x28526d(0x169))['on'](_0x28526d(0x1a6), function () { var _0x32579b = _0x28526d; whiteboard_canvas[_0x32579b(0x137)]()[_0x32579b(0x197)](_0x32579b(0x18d), 'right'), whiteboard_canvas[_0x32579b(0x1ad)](), sendWhiteboard(); }), $(_0x28526d(0x152))['on'](_0x28526d(0x147), function () { var _0x30205a = _0x28526d; whiteboard_canvas[_0x30205a(0x137)]()[_0x30205a(0x1a2)] == 0x0 ? whiteboard_canvas[_0x30205a(0x137)]()[_0x30205a(0x197)](_0x30205a(0x179), $(this)[_0x30205a(0x13f)]()) : whiteboard_canvas['getActiveObject']()[_0x30205a(0x163)]({ 'fontSize': $(this)[_0x30205a(0x13f)]() }), whiteboard_canvas[_0x30205a(0x1ad)](), sendWhiteboard(); }), $(_0x28526d(0x145))['on'](_0x28526d(0x1a6), function () { var _0x234d7d = _0x28526d; whiteboard_canvas[_0x234d7d(0x16a)]()['forEach'](_0x5584d5 => { var _0x4c7d27 = _0x234d7d; whiteboard_canvas[_0x4c7d27(0x191)](_0x5584d5); }), whiteboard_canvas[_0x234d7d(0x1b4)]()['renderAll'](), sendWhiteboard(); });