var _0x1d9f33 = _0x417a; function _0x3c5f() { var _0x14e840 = ['yes', 'random', 'stringify', 'hidden', 'i18n', 'warning', 'scrollTop', 'border-bottom', 'parse', '<i\x20class=\x22icon-feather-mail\x22></i><span\x20class=\x22header-not-nocount\x22>&nbsp;</span>', 'round', '573549yhAzoV', 'location', 'push', 'post', 'appendChild', '152QxzyHv', 'unix', 'animate', 'replace', 'html,\x20body', 'add', 'link', 'head', 'data', 'href', 'start', '946834ADqZxj', 'querySelector', 'https://peakesl.nyc3.cdn.digitaloceanspaces.com/web/images/favicon_notification.png', '<i\x20class=\x22icon-feather-bell\x22></i><span>', 'notice', '<div\x20class=\x22notification-sticky\x22><p>', 'hide', 'undefined,\x20continue', 'length', '1px\x20solid\x20var(--border)', 'minutes', 'notification', 'end', '.header-messages\x20a', 'toString', 'utc', '1170026CNhdpQ', 'append', 'status', 'log', 'sort', 'pathname', '2dngvtQ', 'link[rel=\x22icon\x22]', 'children', 'success', 'css', '23:59', 'https://peakesl.nyc3.cdn.digitaloceanspaces.com/web/images/favicon.png', '_id', 'removeItem', 'play', '8RXxptX', 'fast', 'upcomingLesson', ':00', 'polling', '</span>', 'fadeIn', '#header', 'find', '/classroom/', '12DIQKAe', 'removeClass', 'undefined', 'createElement', 'each', '_bstr.general.lessonStart', '00:00', '/sounds/message.mp3', 'endtime', 'setItem', 'starttime', 'transparent', '_bstr.general.lessonStart.btn', 'localStorage', 'slice', '1184949iVLCRb', 'html', 'websocket', '2250990waMKoO', 'peakesl-upcoming-lesson', 'error', 'format', 'split', '</a></div>', 'main-notification', '\x20</p><a\x20href=\x22/classroom/', '302998ZafSTQ', 'appendTo', 'exp', 'getItem', 'HH:mm', 'scroll', 'lessonid', 'extend', '18455NBTMXs', 'ajax', '.notifications-header-icon']; _0x3c5f = function () { return _0x14e840; }; return _0x3c5f(); } (function (_0x2ea6ef, _0x811c2a) { var _0x4530be = _0x417a, _0x5a8c49 = _0x2ea6ef(); while (!![]) { try { var _0x16965f = -parseInt(_0x4530be(0xa2)) / 0x1 + -parseInt(_0x4530be(0xde)) / 0x2 * (parseInt(_0x4530be(0xb8)) / 0x3) + -parseInt(_0x4530be(0xbd)) / 0x4 * (-parseInt(_0x4530be(0xaa)) / 0x5) + parseInt(_0x4530be(0xf2)) / 0x6 * (parseInt(_0x4530be(0xc8)) / 0x7) + parseInt(_0x4530be(0xe8)) / 0x8 * (parseInt(_0x4530be(0x97)) / 0x9) + parseInt(_0x4530be(0x9a)) / 0xa + -parseInt(_0x4530be(0xd8)) / 0xb; if (_0x16965f === _0x811c2a) break; else _0x5a8c49['push'](_0x5a8c49['shift']()); } catch (_0x442556) { _0x5a8c49['push'](_0x5a8c49['shift']()); } } }(_0x3c5f, 0x28c53)); const UTCOffset = moment()['utcOffset'](); var socket, messageSound = new Audio(CDN + _0x1d9f33(0xf9)); async function checkForUpcomingLessons() { var _0x2ad458 = _0x1d9f33, _0x19906a = getCookie(_0x2ad458(0x9b)), _0x30b6c5 = {}, _0x474257; if (_0x19906a != undefined) { _0x30b6c5 = JSON[_0x2ad458(0xb5)](_0x19906a); if (_0x30b6c5['uid'] == uData[_0x2ad458(0xe5)]) { if (_0x30b6c5[_0x2ad458(0xda)] == _0x2ad458(0xad)) { var _0x5f16a1 = moment[_0x2ad458(0xd7)](_0x30b6c5[_0x2ad458(0xfc)])[_0x2ad458(0xc2)](UTCOffset, 'minutes'); $('body')[_0x2ad458(0xd9)](_0x2ad458(0xcd) + $[_0x2ad458(0xb1)](_0x2ad458(0xf7), _0x5f16a1[_0x2ad458(0x9d)]('LT')) + _0x2ad458(0xa1) + _0x30b6c5[_0x2ad458(0xa8)] + '\x22>Join\x20now</a></div>'); } return; } } try { _0x474257 = await r(_0x2ad458(0xea), {}); } catch (_0x31293f) { console[_0x2ad458(0x9c)](_0x31293f); return; } if (_0x474257[_0x2ad458(0xda)] == 'no') { setCookieMinutes(_0x2ad458(0x9b), JSON['stringify']({ 'status': 'no', 'uid': uData['_id'] }), 0x5); return; } _0x474257['uid'] = uData[_0x2ad458(0xe5)]; var _0x1fd8b1 = moment()[_0x2ad458(0xbe)](), _0x3db097 = moment[_0x2ad458(0xd7)](_0x474257[_0x2ad458(0xfa)]), _0x2c2b20 = JSON[_0x2ad458(0xaf)](_0x474257), _0x53e73e = (_0x3db097[_0x2ad458(0xbe)]() - _0x1fd8b1) / 0x3c; setCookieMinutes('peakesl-upcoming-lesson', _0x2c2b20, _0x53e73e); var _0x5f16a1 = moment[_0x2ad458(0xd7)](_0x474257[_0x2ad458(0xfc)])['add'](UTCOffset, _0x2ad458(0xd2)); $('body')['append'](_0x2ad458(0xcd) + $['i18n']('_bstr.general.lessonStart', _0x5f16a1['format']('LT')) + _0x2ad458(0xa1) + _0x474257[_0x2ad458(0xa8)] + '\x22>' + $[_0x2ad458(0xb1)](_0x2ad458(0xfe)) + _0x2ad458(0x9f)); } function _0x417a(_0x1d5606, _0x31d6ba) { var _0x3c5fdd = _0x3c5f(); return _0x417a = function (_0x417a4b, _0xf7452) { _0x417a4b = _0x417a4b - 0x97; var _0x17742d = _0x3c5fdd[_0x417a4b]; return _0x17742d; }, _0x417a(_0x1d5606, _0x31d6ba); } typeof uData != _0x1d9f33(0xf4) && (!window[_0x1d9f33(0xb9)][_0x1d9f33(0xdd)]['startsWith'](_0x1d9f33(0xf1)) && checkForUpcomingLessons(), setupSocket()); async function r(_0x154e0a, _0x4027b2 = {}, _0x1ad91d = {}) { var _0x43d1b2 = _0x1d9f33, _0x3278ea = { 'url': window[_0x43d1b2(0xb9)]['origin'] + '/' + _0x154e0a, 'type': _0x43d1b2(0xbb), 'data': _0x4027b2, 'xhrFields': { 'withCredentials': !![] } }; $[_0x43d1b2(0xa9)](_0x3278ea, _0x1ad91d); var _0x26db68 = await $[_0x43d1b2(0xab)](_0x3278ea); return objectify(_0x26db68); } function showNotification(_0xe5384d, _0x57d44e, _0x56f4d6 = _0x1d9f33(0xa0)) { var _0x2e1d6d = _0x1d9f33; $('#' + _0x56f4d6)[_0x2e1d6d(0xf3)](_0x2e1d6d(0x9c)), $('#' + _0x56f4d6)[_0x2e1d6d(0xf3)](_0x2e1d6d(0xe1)), $('#' + _0x56f4d6)['removeClass'](_0x2e1d6d(0xb2)), $('#' + _0x56f4d6)['removeClass']('info'), $('#' + _0x56f4d6)[_0x2e1d6d(0xf3)](_0x2e1d6d(0xcc)), $('#' + _0x56f4d6 + '>p')[_0x2e1d6d(0x98)](_0xe5384d), $('#' + _0x56f4d6)['addClass'](_0x57d44e), $('#' + _0x56f4d6)[_0x2e1d6d(0xee)]('fast'); } function hideNotification(_0x10356d = _0x1d9f33(0xa0)) { var _0x15cce1 = _0x1d9f33; $('#' + _0x10356d)['fadeOut'](_0x15cce1(0xe9)); } function getUrlVars() { var _0x223803 = _0x1d9f33, _0x1ef590 = {}, _0x27cf55 = window[_0x223803(0xb9)][_0x223803(0xc6)][_0x223803(0xc0)](/[?&]+([^=&]+)=([^&]*)/gi, function (_0x4d9fbc, _0x2081d4, _0x3ff3f9) { _0x1ef590[_0x2081d4] = _0x3ff3f9; }); return _0x1ef590; } function mToHHMM(_0x1a3968) { var _0x2498f1 = _0x1d9f33, _0x330218 = _0x1a3968 % 0x3c, _0x115be4 = (_0x1a3968 - _0x330218) / 0x3c, _0x51f92d = _0x115be4 >= 0x0 ? '+' : ''; return _0x51f92d + _0x115be4[_0x2498f1(0xd6)]() + ':' + (_0x330218 < 0xa ? '0' : '') + _0x330218[_0x2498f1(0xd6)](); } function scrollTop() { var _0xce7bc5 = _0x1d9f33; $(_0xce7bc5(0xc1))[_0xce7bc5(0xbf)]({ 'scrollTop': 0x0 }, 0x0); } function objectify(_0x46ccbf) { var _0x31f75e = _0x1d9f33; return JSON[_0x31f75e(0xb5)](JSON[_0x31f75e(0xaf)](_0x46ccbf)); } function round2dec(_0x21ef50) { var _0x1506fc = _0x1d9f33; return Math[_0x1506fc(0xb7)](_0x21ef50 * 0x64) / 0x64; } function round1dec(_0x3ca311) { var _0x46de88 = _0x1d9f33; return Math[_0x46de88(0xb7)](_0x3ca311 * 0xa) / 0xa; } const changeFavicon = _0x20160b => { var _0x3a51be = _0x1d9f33; let _0x16e266 = document[_0x3a51be(0xc9)](_0x3a51be(0xdf)); _0x16e266 !== null ? _0x16e266[_0x3a51be(0xc6)] = _0x20160b : (_0x16e266 = document[_0x3a51be(0xf5)](_0x3a51be(0xc3)), _0x16e266['rel'] = 'icon', _0x16e266[_0x3a51be(0xc6)] = _0x20160b, document[_0x3a51be(0xc4)][_0x3a51be(0xbc)](_0x16e266)); }; $(window)['focus'](function () { var _0x38734a = _0x1d9f33; changeFavicon(_0x38734a(0xe4)); }); function setupSocket() { var _0x214beb = _0x1d9f33; socket = io('', { 'transports': [_0x214beb(0x99), _0x214beb(0xec)] }), socket['on']('message', function (_0x2d0fe3) { var _0x1d0f40 = _0x214beb; typeof messageSite == _0x1d0f40(0xf4) && ($(_0x1d0f40(0xd5))[_0x1d0f40(0x98)](_0x1d0f40(0xb6)), document[_0x1d0f40(0xb0)] && (messageSound[_0x1d0f40(0xe7)](), changeFavicon(), changeFavicon(_0x1d0f40(0xca)))); }), socket['on'](_0x214beb(0xd3), function (_0x5ef134) { var _0x35d769 = _0x214beb; $('#notification-none')[_0x35d769(0xce)](), addNotification(_0x5ef134), i18n_updatePrices(), $(_0x35d769(0xac))[_0x35d769(0x98)](_0x35d769(0xcb) + unreadNotificationCount + _0x35d769(0xed)), document['hidden'] && (messageSound[_0x35d769(0xe7)](), changeFavicon(), changeFavicon(_0x35d769(0xca))); }); } function timetableToLocalTimezone(_0x438ccc) { var _0x1b4e27 = _0x1d9f33, _0xa8553d = _0x438ccc; _0x438ccc = { 'monday': [], 'tuesday': [], 'wednesday': [], 'thursday': [], 'friday': [], 'saturday': [], 'sunday': [] }; for (var _0xb37b29 in _0xa8553d) { for (var _0x2655f9 in _0xa8553d[_0xb37b29]) { if (_0xa8553d[_0xb37b29][_0x2655f9] == undefined) { console[_0x1b4e27(0xdb)](_0x1b4e27(0xcf), _0xa8553d[_0xb37b29], _0xa8553d[_0xb37b29][_0x2655f9]); continue; } if (_0xa8553d[_0xb37b29][_0x2655f9]['adjusted'] != undefined) continue; _0xa8553d[_0xb37b29][_0x2655f9][_0x1b4e27(0xc7)] = fillupHour(_0xa8553d[_0xb37b29][_0x2655f9][_0x1b4e27(0xc7)]), _0xa8553d[_0xb37b29][_0x2655f9][_0x1b4e27(0xd4)] = fillupHour(_0xa8553d[_0xb37b29][_0x2655f9][_0x1b4e27(0xd4)]); var _0x3a1696 = parseInt(_0xa8553d[_0xb37b29][_0x2655f9][_0x1b4e27(0xc7)][_0x1b4e27(0x9e)](':')[0x0]) * 0x3c + parseInt(_0xa8553d[_0xb37b29][_0x2655f9][_0x1b4e27(0xc7)]['split'](':')[0x1]); _0x3a1696 += UTCOffset; _0x3a1696 == 0x0 && (_0x3a1696 = -0x1); var _0x3be5ad = parseInt(_0xa8553d[_0xb37b29][_0x2655f9][_0x1b4e27(0xd4)][_0x1b4e27(0x9e)](':')[0x0]) * 0x3c + parseInt(_0xa8553d[_0xb37b29][_0x2655f9]['end'][_0x1b4e27(0x9e)](':')[0x1]); _0x3be5ad += UTCOffset; _0x3be5ad == 0x0 && (_0x3be5ad = -0x1); var _0x4564c2 = weekdayToNumber[_0xb37b29] - 0x1; _0x4564c2 < 0x0 && (_0x4564c2 = 0x6); _0x4564c2 = numberToWeekday[_0x4564c2]; var _0x3616d7 = weekdayToNumber[_0xb37b29] + 0x1; _0x3616d7 > 0x6 && (_0x3616d7 = 0x0); _0x3616d7 = numberToWeekday[_0x3616d7]; if (_0x3a1696 < 0x0 && _0x3be5ad < 0x0) { var _0x3dc090 = moment(_0x1b4e27(0xf8), 'HH:mm')['add'](0x5a0 + _0x3a1696, _0x1b4e27(0xd2)), _0x3072ce = moment(_0x1b4e27(0xf8), 'HH:mm')[_0x1b4e27(0xc2)](0x5a0 + _0x3be5ad, _0x1b4e27(0xd2)); _0xa8553d[_0x4564c2] == undefined && (_0xa8553d[_0x4564c2] = []); _0x438ccc[_0x4564c2][_0x1b4e27(0xba)]({ 'start': _0x3dc090[_0x1b4e27(0x9d)](_0x1b4e27(0xa6)), 'end': _0x3072ce[_0x1b4e27(0x9d)](_0x1b4e27(0xa6)) == '00:00' ? _0x1b4e27(0xe3) : _0x3072ce['format'](_0x1b4e27(0xa6)) }); continue; } if (_0x3a1696 > 0x59f && _0x3be5ad > 0x59f) { var _0x3dc090 = moment(_0x1b4e27(0xf8), _0x1b4e27(0xa6))['add'](_0x3a1696 - 0x5a0, _0x1b4e27(0xd2)), _0x3072ce = moment('00:00', _0x1b4e27(0xa6))[_0x1b4e27(0xc2)](_0x3be5ad - 0x5a0, _0x1b4e27(0xd2)); _0xa8553d[_0x3616d7] == undefined && (_0xa8553d[_0x3616d7] = []); _0x438ccc[_0x3616d7][_0x1b4e27(0xba)]({ 'start': _0x3dc090[_0x1b4e27(0x9d)](_0x1b4e27(0xa6)), 'end': _0x3072ce[_0x1b4e27(0x9d)](_0x1b4e27(0xa6)) == _0x1b4e27(0xf8) ? _0x1b4e27(0xe3) : _0x3072ce['format']('HH:mm'), 'adjusted': !![] }); continue; } if (_0x3a1696 < -0x1) { var _0x3dc090 = moment(_0x1b4e27(0xf8), _0x1b4e27(0xa6))[_0x1b4e27(0xc2)](_0x3a1696 - 0x5a0, _0x1b4e27(0xd2)); _0x3be5ad == -0x1 && (_0x3be5ad = 0x0); var _0x3072ce = moment(_0x1b4e27(0xf8), 'HH:mm')[_0x1b4e27(0xc2)](_0x3be5ad, _0x1b4e27(0xd2)); _0xa8553d[_0x4564c2] == undefined && (_0xa8553d[_0x4564c2] = []); _0x438ccc[_0x4564c2][_0x1b4e27(0xba)]({ 'start': _0x3dc090['format']('HH:mm'), 'end': _0x1b4e27(0xe3) }), _0x438ccc[_0xb37b29][_0x1b4e27(0xba)]({ 'start': _0x1b4e27(0xf8), 'end': _0x3072ce[_0x1b4e27(0x9d)]('HH:mm') == _0x1b4e27(0xf8) ? '23:59' : _0x3072ce[_0x1b4e27(0x9d)](_0x1b4e27(0xa6)) }); continue; } if (_0x3be5ad > 0x5a0) { var _0x3072ce = moment('00:00', _0x1b4e27(0xa6))['add'](_0x3be5ad - 0x59f, _0x1b4e27(0xd2)); _0x3a1696 == -0x1 && (_0x3a1696 = 0x0); var _0x3dc090 = moment('00:00', 'HH:mm')[_0x1b4e27(0xc2)](_0x3a1696, _0x1b4e27(0xd2)); _0xa8553d[_0x3616d7] == undefined && (_0xa8553d[_0x3616d7] = []); _0x438ccc[_0x3616d7]['push']({ 'start': _0x1b4e27(0xf8), 'end': _0x3072ce[_0x1b4e27(0x9d)](_0x1b4e27(0xa6)), 'adjusted': !![] }), _0x438ccc[_0xb37b29][_0x1b4e27(0xba)]({ 'start': _0x3dc090['format'](_0x1b4e27(0xa6)), 'end': _0x1b4e27(0xe3) }); continue; } _0x3a1696 == -0x1 && (_0x3a1696 = 0x0); _0x3be5ad == -0x1 && (_0x3be5ad = 0x0); var _0x48e117 = moment(_0x1b4e27(0xf8), 'HH:mm')['add'](_0x3a1696, _0x1b4e27(0xd2)), _0x396b7f = moment(_0x1b4e27(0xf8), _0x1b4e27(0xa6))[_0x1b4e27(0xc2)](_0x3be5ad, _0x1b4e27(0xd2)); _0x438ccc[_0xb37b29][_0x1b4e27(0xba)]({ 'start': _0x48e117[_0x1b4e27(0x9d)]('HH:mm'), 'end': _0x396b7f[_0x1b4e27(0x9d)]('HH:mm') == _0x1b4e27(0xf8) ? _0x1b4e27(0xe3) : _0x396b7f['format']('HH:mm') }); } } for (var _0xb37b29 in _0x438ccc) { if (_0x438ccc[_0xb37b29][_0x1b4e27(0xd0)] == 0x0) { delete _0x438ccc[_0xb37b29]; continue; } for (var _0x2655f9 in _0x438ccc[_0xb37b29]) { _0x438ccc[_0xb37b29][_0x2655f9][_0x1b4e27(0xc7)] = fillupHour(_0x438ccc[_0xb37b29][_0x2655f9][_0x1b4e27(0xc7)]), _0x438ccc[_0xb37b29][_0x2655f9][_0x1b4e27(0xd4)] = fillupHour(_0x438ccc[_0xb37b29][_0x2655f9]['end']); } } return _0x438ccc; } function fillupHour(_0x2fd7a0) { var _0x28cf41 = _0x1d9f33; if (_0x2fd7a0[_0x28cf41(0x9e)](':')[0x0] != '23' && _0x2fd7a0['split'](':')[0x1] == 0x3b) { var _0x446e42 = parseInt(_0x2fd7a0[_0x28cf41(0x9e)](':')[0x0]); _0x446e42++, _0x2fd7a0 = ('00' + _0x446e42)[_0x28cf41(0x100)](-0x2) + _0x28cf41(0xeb); } return _0x2fd7a0; } $['fn']['randomize'] = function (_0x3bfc8f) { var _0x9a2082 = _0x1d9f33; return (_0x3bfc8f ? this[_0x9a2082(0xf0)](_0x3bfc8f) : this)['parent']()[_0x9a2082(0xf6)](function () { var _0x34dffa = _0x9a2082; $(this)[_0x34dffa(0xe0)](_0x3bfc8f)[_0x34dffa(0xdc)](function () { var _0x1020b3 = _0x34dffa; return Math[_0x1020b3(0xae)]() - 0.5; })['detach']()[_0x34dffa(0xa3)](this); }), this; }; function getLocalStorage(_0x2e327a) { var _0x3d1133 = _0x1d9f33, _0x448449 = window['localStorage'][_0x3d1133(0xa5)](_0x2e327a); if (_0x448449 != null && _0x448449 != '') { var _0x1c8b79 = JSON['parse'](_0x448449), _0x4f2e96 = moment()[_0x3d1133(0xbe)](); if (_0x4f2e96 > _0x1c8b79[_0x3d1133(0xa4)]) return window[_0x3d1133(0xff)][_0x3d1133(0xe6)](_0x2e327a), null; return _0x1c8b79[_0x3d1133(0xc5)]; } return _0x448449; } function setLocalStorage(_0x4b490a, _0x5c4133, _0x49726f) { var _0x119910 = _0x1d9f33; if (_0x49726f == 0x0) { window['localStorage'][_0x119910(0xe6)](_0x4b490a); return; } var _0x573b48 = moment()['add'](_0x49726f, 'd')[_0x119910(0xbe)](), _0x3c1e55 = { 'exp': _0x573b48, 'data': _0x5c4133 }; window[_0x119910(0xff)][_0x119910(0xfb)](_0x4b490a, JSON[_0x119910(0xaf)](_0x3c1e55)); } $(window)['on'](_0x1d9f33(0xa7), function () { checkScrollNavbar(); }); function checkScrollNavbar() { var _0x324f4e = _0x1d9f33, _0x105dfd = $(this)[_0x324f4e(0xb3)](); _0x105dfd == 0x0 ? $(_0x324f4e(0xef))[_0x324f4e(0xe2)](_0x324f4e(0xb4), _0x324f4e(0xfd)) : $('#header')[_0x324f4e(0xe2)](_0x324f4e(0xb4), _0x324f4e(0xd1)); } checkScrollNavbar();