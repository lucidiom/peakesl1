var _0x102ab3=_0x430c;(function(_0x3bd412,_0x205df9){var _0xf50203=_0x430c,_0x18bc80=_0x3bd412();while(!![]){try{var _0x4441c0=parseInt(_0xf50203(0x2aa))/0x1*(parseInt(_0xf50203(0x2a0))/0x2)+-parseInt(_0xf50203(0x1f2))/0x3*(-parseInt(_0xf50203(0x2a6))/0x4)+parseInt(_0xf50203(0x212))/0x5*(-parseInt(_0xf50203(0x200))/0x6)+parseInt(_0xf50203(0x1fe))/0x7+parseInt(_0xf50203(0x2b4))/0x8+-parseInt(_0xf50203(0x202))/0x9+-parseInt(_0xf50203(0x241))/0xa*(-parseInt(_0xf50203(0x298))/0xb);if(_0x4441c0===_0x205df9)break;else _0x18bc80['push'](_0x18bc80['shift']());}catch(_0x2f08ac){_0x18bc80['push'](_0x18bc80['shift']());}}}(_0x3e3e,0xf3c7a));var chatroom,token='',chat=!![],whiteboard=![],screenshare=![],studentrights=_0x102ab3(0x27c),drawenabled=!![],bluredVideo=![],usercache={},role=_0x102ab3(0x21e),lessonID='',lessonData={},tc,localTracks,remoteTrack=[],dataTrack=new Twilio[(_0x102ab3(0x20b))][(_0x102ab3(0x20f))](),dataTrackPublished={},tryconnection=![],timerInterval,screenstream,screenTrack,initscreenshare=![],endscreenshare=![],chatHistory={},intendedDiscon=![],reconectionInterval,chatHistory='',whiteboard_canvas;$('.local-media-container')[_0x102ab3(0x235)]();var videoElement=$(_0x102ab3(0x295)),canvas=document['getElementById']('preview-canvas');function setUpLocalTracks(){var _0x30ed8a=_0x102ab3;Twilio[_0x30ed8a(0x20b)][_0x30ed8a(0x282)]({'audio':!![],'video':{'width':0x500,'height':0x2d0,'frameRate':0x18}})[_0x30ed8a(0x26e)](_0x37ea07=>{var _0x4e276d=_0x30ed8a;$[_0x4e276d(0x2b6)](_0x37ea07,function(_0x303f6c,_0x43e88b){var _0x1770c2=_0x4e276d;if(_0x43e88b[_0x1770c2(0x294)]==_0x1770c2(0x224))return _0x43e88b['on']('started',function(){var _0x58838d=_0x1770c2;$(_0x58838d(0x250))[_0x58838d(0x1c3)]('height',$('#local-media>video')[_0x58838d(0x229)]()+'px');}),![];}),_0x37ea07[0x2]=dataTrack,localTracks=_0x37ea07,$(_0x4e276d(0x251))[_0x4e276d(0x227)](_0x37ea07[0x1][_0x4e276d(0x1f9)]()),$(_0x4e276d(0x201))[_0x4e276d(0x227)](_0x37ea07[0x1][_0x4e276d(0x1f9)]()),bluredVideo&&($('#preview-media>video')['hide'](),canvas['hidden']=![]),$(_0x4e276d(0x22d))['on']('canplay',function(){var _0xc7b430=_0x4e276d;$('.local-media-container')[_0xc7b430(0x1c3)](_0xc7b430(0x229),$(_0xc7b430(0x22d))[_0xc7b430(0x229)]()+'px'),$(_0xc7b430(0x250))[_0xc7b430(0x277)]();}),$(_0x4e276d(0x295))['on']('playing',function(){var _0x2364cb=_0x4e276d;canvas[_0x2364cb(0x229)]=$(_0x2364cb(0x295))[_0x2364cb(0x229)](),canvas[_0x2364cb(0x1d0)]=$(_0x2364cb(0x295))[_0x2364cb(0x1d0)](),$('#preview-media>video')[0x0][_0x2364cb(0x1d0)]=$(_0x2364cb(0x295))[_0x2364cb(0x1d0)](),$(_0x2364cb(0x295))[0x0][_0x2364cb(0x229)]=$(_0x2364cb(0x295))[_0x2364cb(0x229)]();}),$(_0x4e276d(0x24f))[_0x4e276d(0x1c3)](_0x4e276d(0x25e),'unset');})[_0x30ed8a(0x221)](function(_0x366547){var _0xb807b7=_0x30ed8a;console[_0xb807b7(0x258)](_0x366547),$(_0xb807b7(0x24f))['css'](_0xb807b7(0x25e),_0xb807b7(0x2b3));});}setUpLocalTracks(),loadLesson();function loadBodyPix(){var _0x2c6e10=_0x102ab3;options={'multiplier':0.75,'stride':0x20,'quantBytes':0x4},bodyPix[_0x2c6e10(0x228)](options)[_0x2c6e10(0x26e)](_0x476c2f=>perform(_0x476c2f))[_0x2c6e10(0x221)](_0x24fb81=>console[_0x2c6e10(0x258)](_0x24fb81));}async function perform(_0x1b940b){var _0xc78ae5=_0x102ab3;while(bluredVideo){const _0x594247=await _0x1b940b[_0xc78ae5(0x1bd)]($('#preview-media>video')[0x0]),_0x266ae0=0x5,_0x32f25a=0x4,_0xffa572=![];bodyPix[_0xc78ae5(0x20a)](canvas,$(_0xc78ae5(0x295))[0x0],_0x594247,_0x266ae0,_0x32f25a,_0xffa572);}}function connectToVideoChat(){var _0x10e1a5=_0x102ab3,_0x4e9d16=localStorage[_0x10e1a5(0x1d3)](_0x10e1a5(0x1d8)+lessonData[_0x10e1a5(0x21f)]);_0x4e9d16!=''&&_0x4e9d16!=undefined&&_0x4e9d16!=null&&(chatHistory=_0x4e9d16,$(_0x10e1a5(0x296))[_0x10e1a5(0x25f)](chatHistory)),Twilio[_0x10e1a5(0x20b)][_0x10e1a5(0x268)](token,{'name':lessonData[_0x10e1a5(0x2ab)],'audio':!![],'video':{'width':0x500,'height':0x2d0,'frameRate':0x18},'tracks':localTracks})[_0x10e1a5(0x26e)](_0xb186ab=>{var _0x44b461=_0x10e1a5;chatroom=_0xb186ab,clearTimeout(reconectionInterval),setStatus(_0x44b461(0x207)),$(_0x44b461(0x201))[_0x44b461(0x227)](localTracks[0x1][_0x44b461(0x23f)]()),$('#preview-media')[_0x44b461(0x25f)](''),switchToLocalVideo(),$(_0x44b461(0x250))[_0x44b461(0x1c3)](_0x44b461(0x229),$(_0x44b461(0x22d))['height']()+'px'),$(_0x44b461(0x28f))['css']('display',_0x44b461(0x285)),$('#content-video')[_0x44b461(0x1c3)]('display','block'),$('.video-controls')['css'](_0x44b461(0x25e),_0x44b461(0x1ee)),$(_0x44b461(0x24e))[_0x44b461(0x1c3)](_0x44b461(0x25e),_0x44b461(0x1ee)),addChatMessage(_0x44b461(0x1eb)+$[_0x44b461(0x246)](_0x44b461(0x2a9))+'</span></div>'),_0xb186ab['participants']['forEach'](async _0x48e79d=>{var _0x416c91=_0x44b461;_0x48e79d['on'](_0x416c91(0x1ea),_0x54273f=>{manageSubscribedTracks(_0x54273f);});if(_0x48e79d[_0x416c91(0x27e)]in usercache)addChatMessage(_0x416c91(0x222)+usercache[_0x48e79d[_0x416c91(0x27e)]][_0x416c91(0x239)]+'\x20'+usercache[_0x48e79d['identity']][_0x416c91(0x1f3)]+(_0x416c91(0x243)+$['i18n'](_0x416c91(0x1e0))+'</span></div>'));else{var _0x242d66=await r('getTeacher',{'id':_0x48e79d[_0x416c91(0x27e)]});usercache[_0x48e79d['identity']]=_0x242d66,addChatMessage('<div\x20class=\x22message-time-sign\x22><span><strong>'+_0x242d66[_0x416c91(0x239)]+'\x20'+_0x242d66[_0x416c91(0x1f3)]+(_0x416c91(0x243)+$[_0x416c91(0x246)]('_bstr.classroom.alreadyin')+_0x416c91(0x29f)));}}),_0xb186ab[_0x44b461(0x1c0)]['size']==0x0&&(role==_0x44b461(0x1be)?addChatMessage(_0x44b461(0x1eb)+$['i18n'](_0x44b461(0x242))+_0x44b461(0x29f)):addChatMessage(_0x44b461(0x1eb)+$[_0x44b461(0x246)](_0x44b461(0x28a))+_0x44b461(0x29f))),_0xb186ab['on'](_0x44b461(0x279),async _0xd7717b=>{var _0x1e1950=_0x44b461;if(_0xd7717b['identity']in usercache)addChatMessage('<div\x20class=\x22message-time-sign\x22><span><strong>'+usercache[_0xd7717b[_0x1e1950(0x27e)]][_0x1e1950(0x239)]+'\x20'+usercache[_0xd7717b[_0x1e1950(0x27e)]][_0x1e1950(0x1f3)]+(_0x1e1950(0x243)+$[_0x1e1950(0x246)](_0x1e1950(0x2a7))+_0x1e1950(0x29f)));else{var _0x4381ee=await r('getTeacher',{'id':_0xd7717b[_0x1e1950(0x27e)]});usercache[_0xd7717b[_0x1e1950(0x27e)]]=_0x4381ee,addChatMessage(_0x1e1950(0x222)+_0x4381ee[_0x1e1950(0x239)]+'\x20'+_0x4381ee['lastname']+('</strong>\x20'+$[_0x1e1950(0x246)]('_bstr.classroom.left')+_0x1e1950(0x29f)));}removeRemoteMedia();}),_0xb186ab['on'](_0x44b461(0x257),async _0x3b3728=>{var _0x18a6c2=_0x44b461;_0x3b3728['tracks'][_0x18a6c2(0x1d7)](_0x4ce2ab=>{var _0x1facac=_0x18a6c2;if(_0x4ce2ab[_0x1facac(0x1f0)]){const _0x52cbdc=_0x4ce2ab[_0x1facac(0x230)];$('#remote-media')['append'](_0x52cbdc[_0x1facac(0x1f9)]());}}),_0x3b3728['on']('trackSubscribed',_0x2cb9ce=>{manageSubscribedTracks(_0x2cb9ce);}),switchToLocalVideo();role=='student'&&($(_0x18a6c2(0x2b5))[_0x18a6c2(0x1c3)](_0x18a6c2(0x25e),'block'),$(_0x18a6c2(0x24d))[_0x18a6c2(0x1c3)](_0x18a6c2(0x25e),_0x18a6c2(0x285)),$('#content-screensharing')[_0x18a6c2(0x1c3)]('display',_0x18a6c2(0x285)));if(_0x3b3728[_0x18a6c2(0x27e)]in usercache)addChatMessage('<div\x20class=\x22message-time-sign\x22><span><strong>'+usercache[_0x3b3728[_0x18a6c2(0x27e)]][_0x18a6c2(0x239)]+'\x20'+usercache[_0x3b3728[_0x18a6c2(0x27e)]]['lastname']+(_0x18a6c2(0x243)+$[_0x18a6c2(0x246)](_0x18a6c2(0x26b))+_0x18a6c2(0x29f)));else{var _0x1d1cd1=await r(_0x18a6c2(0x23b),{'id':_0x3b3728[_0x18a6c2(0x27e)]});usercache[_0x3b3728[_0x18a6c2(0x27e)]]=_0x1d1cd1,addChatMessage(_0x18a6c2(0x222)+_0x1d1cd1[_0x18a6c2(0x239)]+'\x20'+_0x1d1cd1[_0x18a6c2(0x1f3)]+('</strong>\x20'+$[_0x18a6c2(0x246)](_0x18a6c2(0x26b))+'</span></div>'));}if(role==_0x18a6c2(0x21e)){if(whiteboard)setTimeout(function(){var _0x5875f9=_0x18a6c2;sendMessage(_0x5875f9(0x1ba)),sendWhiteboard();},0x5dc);else screenshare?sendMessage(_0x18a6c2(0x225)+screenTrack['id']+_0x18a6c2(0x249)):(closeWhiteboard(),$(_0x18a6c2(0x1fa))[_0x18a6c2(0x25f)](''),$('#content-video')['css']('display',_0x18a6c2(0x1ee)),$(_0x18a6c2(0x24d))['css']('display','none'),$('#content-screensharing')[_0x18a6c2(0x1c3)](_0x18a6c2(0x25e),_0x18a6c2(0x285)),switchToLocalVideo());}}),_0xb186ab['on']('disconnected',(_0x474870,_0x1e8e26)=>{var _0x43647b=_0x44b461;setStatus(_0x43647b(0x271)),removeRemoteMedia(),!intendedDiscon&&(setStatus(_0x43647b(0x1e1)),reconectionInterval=setTimeout(connectToVideoChat,0xbb8));}),_0xb186ab['on'](_0x44b461(0x1e1),_0x4e9cdd=>{var _0x265558=_0x44b461;if(_0x4e9cdd[_0x265558(0x22c)]===0xcf09)console[_0x265558(0x258)](_0x265558(0x215),_0x4e9cdd['message']);else _0x4e9cdd[_0x265558(0x22c)]===0xd09d&&console['log'](_0x265558(0x23c),_0x4e9cdd[_0x265558(0x1e5)]);setStatus(_0x265558(0x1e1));}),_0xb186ab['on'](_0x44b461(0x274),()=>{var _0x35f0a9=_0x44b461;setStatus(_0x35f0a9(0x207)),console['log'](_0x35f0a9(0x26c));}),_0xb186ab['on'](_0x44b461(0x1c9),_0x355148=>{var _0x2208f3=_0x44b461;console[_0x2208f3(0x258)](_0x355148[_0x2208f3(0x27e)]+_0x2208f3(0x2a5)),setStatus(_0x2208f3(0x233));}),_0xb186ab['on']('participantReconnected',_0x22ac78=>{var _0x6e173e=_0x44b461;console['log'](_0x22ac78[_0x6e173e(0x27e)]+_0x6e173e(0x1da)),setStatus(_0x6e173e(0x207));}),$(_0x44b461(0x26d))[_0x44b461(0x235)](),$('#classroom')[_0x44b461(0x277)](),$(_0x44b461(0x296))[_0x44b461(0x254)]($(_0x44b461(0x296))[0x0][_0x44b461(0x25b)]);},_0x56a440=>{var _0x232640=_0x10e1a5;console[_0x232640(0x258)](_0x56a440),reconectionInterval=setTimeout(connectToVideoChat,0xbb8);});}function manageSubscribedTracks(_0x383a2d){var _0x2aae17=_0x102ab3;if(_0x383a2d[_0x2aae17(0x294)]===_0x2aae17(0x267))_0x383a2d['on']('message',_0x46f0ef=>{var _0x4dd7d1=_0x2aae17,_0x148c16=JSON[_0x4dd7d1(0x1c6)](_0x46f0ef);_0x148c16[_0x4dd7d1(0x1f4)]==_0x4dd7d1(0x203)&&(addChatMessage('<div\x20class=\x22message-bubble\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-bubble-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+createTextLinks_(_0x148c16['msg'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22clearfix\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),$(_0x4dd7d1(0x296))[_0x4dd7d1(0x254)]($(_0x4dd7d1(0x296))[0x0]['scrollHeight']));if(_0x148c16[_0x4dd7d1(0x1f4)]=='whiteboard_data'){console[_0x4dd7d1(0x258)]('RX',_0x148c16);if(_0x148c16['id']!=uData['_id']){if(role==_0x4dd7d1(0x21e)&&studentrights==_0x4dd7d1(0x27c))return;setWhiteboardData(_0x148c16);}}if(_0x148c16[_0x4dd7d1(0x1f4)]==_0x4dd7d1(0x20c))switch(_0x148c16['cmd']){case _0x4dd7d1(0x23d):studentrights=_0x148c16[_0x4dd7d1(0x1dd)];role=='student'&&(studentrights==_0x4dd7d1(0x269)?($('#c-whiteboard-protection')['hide'](),$(_0x4dd7d1(0x23e))[_0x4dd7d1(0x277)](),addChatMessage(_0x4dd7d1(0x1eb)+$[_0x4dd7d1(0x246)]('_bstr.classroom.whiteboard.access.granted')+_0x4dd7d1(0x29f)),$('#video-control-whiteboard-unlock')[_0x4dd7d1(0x1c3)](_0x4dd7d1(0x25e),'none')):($(_0x4dd7d1(0x1d6))[_0x4dd7d1(0x277)](),$(_0x4dd7d1(0x23e))[_0x4dd7d1(0x235)](),addChatMessage(_0x4dd7d1(0x1eb)+$['i18n'](_0x4dd7d1(0x217))+'</span></div>'),whiteboard_canvas[_0x4dd7d1(0x1e6)]=![],$(_0x4dd7d1(0x21c))[_0x4dd7d1(0x1ef)](_0x4dd7d1(0x2ae)),$('#whiteboard-controls-drawing')[_0x4dd7d1(0x261)](_0x4dd7d1(0x1d4),_0x4dd7d1(0x25d))));break;case _0x4dd7d1(0x208):if(role==_0x4dd7d1(0x21e)&&!studentrights)return;;eraseWhiteboard();break;case _0x4dd7d1(0x29e):role==_0x4dd7d1(0x1be)&&openWhiteboard();;break;case _0x4dd7d1(0x2af):role=='student'&&closeWhiteboard();;break;case _0x4dd7d1(0x1bf):initscreenshare=!![],switchToRemoteVideo();break;case _0x4dd7d1(0x1f6):$(_0x4dd7d1(0x1fa))['html'](''),$(_0x4dd7d1(0x2b5))['css'](_0x4dd7d1(0x25e),_0x4dd7d1(0x1ee)),$(_0x4dd7d1(0x24d))[_0x4dd7d1(0x1c3)](_0x4dd7d1(0x25e),_0x4dd7d1(0x285)),$(_0x4dd7d1(0x210))['css'](_0x4dd7d1(0x25e),_0x4dd7d1(0x285)),switchToLocalVideo();break;}});else _0x383a2d[_0x2aae17(0x294)]==_0x2aae17(0x224)&&initscreenshare?(initscreenshare=![],$(_0x2aae17(0x2b5))['css'](_0x2aae17(0x25e),_0x2aae17(0x285)),$(_0x2aae17(0x24d))[_0x2aae17(0x1c3)]('display',_0x2aae17(0x285)),$(_0x2aae17(0x210))[_0x2aae17(0x1c3)](_0x2aae17(0x25e),'block'),$('#screensharing')[_0x2aae17(0x227)](_0x383a2d['attach']())):(remoteTrack[_0x2aae17(0x245)](_0x383a2d),switchToLocalVideo());}function sendMessage(_0x218b81){var _0x19682d=_0x102ab3;dataTrack[_0x19682d(0x214)](_0x218b81);}function _0x430c(_0x308348,_0x274fd6){var _0x3e3eec=_0x3e3e();return _0x430c=function(_0x430c45,_0x348833){_0x430c45=_0x430c45-0x1b7;var _0xeb8f4d=_0x3e3eec[_0x430c45];return _0xeb8f4d;},_0x430c(_0x308348,_0x274fd6);}function removeRemoteMedia(){var _0x4b3423=_0x102ab3;remoteTrack=[],$(_0x4b3423(0x1ca))[_0x4b3423(0x25f)]('');}function mute(){var _0x773548=_0x102ab3,_0x3e1a23=localTracks[_0x773548(0x247)](function(_0x2f49a2){var _0x26a83a=_0x773548;return _0x2f49a2['kind']==_0x26a83a(0x26a);});$[_0x773548(0x2b6)](_0x3e1a23,function(_0x4cece5,_0x4772d3){_0x4772d3['disable']();}),$('#video-control-microphone')['addClass']('active');}function unmute(){var _0x2f0a49=_0x102ab3,_0x196320=localTracks[_0x2f0a49(0x247)](function(_0x288cf4){var _0x5d59d2=_0x2f0a49;return _0x288cf4[_0x5d59d2(0x294)]=='audio';});$[_0x2f0a49(0x2b6)](_0x196320,function(_0x706ae8,_0x1b99cf){_0x1b99cf['enable']();}),$('#video-control-microphone')['removeClass'](_0x2f0a49(0x2ae));}function toggleAudio(){var _0x1c71b6=_0x102ab3,_0x58cdfe=localTracks[_0x1c71b6(0x247)](function(_0x2e96cb){var _0x592e41=_0x1c71b6;return _0x2e96cb[_0x592e41(0x294)]==_0x592e41(0x26a);});_0x58cdfe[0x0][_0x1c71b6(0x231)]==![]?unmute():mute();}function disableVideo(){var _0x2e6f9e=_0x102ab3,_0x481bcc=localTracks[_0x2e6f9e(0x247)](function(_0xbd9413){var _0x5612fa=_0x2e6f9e;return _0xbd9413[_0x5612fa(0x294)]==_0x5612fa(0x224);});$['each'](_0x481bcc,function(_0x280b99,_0x3cf3ce){_0x3cf3ce['disable']();}),$('#video-control-video')['addClass'](_0x2e6f9e(0x2ae));}function enableVideo(){var _0x463cb4=_0x102ab3,_0x2eac74=localTracks['filter'](function(_0x262174){var _0x447045=_0x430c;return _0x262174[_0x447045(0x294)]==_0x447045(0x224);});$[_0x463cb4(0x2b6)](_0x2eac74,function(_0x2c888b,_0x4528b6){_0x4528b6['enable']();}),$(_0x463cb4(0x28e))[_0x463cb4(0x1ef)]('active');}function toggleVideo(){var _0x5d4db4=_0x102ab3,_0x2d3f18=localTracks[_0x5d4db4(0x247)](function(_0x471e0d){var _0x280e00=_0x5d4db4;return _0x471e0d[_0x280e00(0x294)]=='video';});_0x2d3f18[0x0][_0x5d4db4(0x231)]==![]?enableVideo():disableVideo();}$('#video-control-video')['on'](_0x102ab3(0x205),function(){toggleVideo();}),$('#video-control-microphone')['on']('click',function(){toggleAudio();});function disconnectFromVideoChat(){var _0x5d9801=_0x102ab3;$(_0x5d9801(0x278))[_0x5d9801(0x29d)](),chatroom[_0x5d9801(0x287)](),chatroom=null,window[_0x5d9801(0x27a)][_0x5d9801(0x1fb)]=_0x5d9801(0x1ce);}$(_0x102ab3(0x22f))['on'](_0x102ab3(0x205),function(){disconnectFromVideoChat();}),$('#chat-submit')['on']('click',function(){var _0x4d2fff=_0x102ab3,_0x432a37=$(_0x4d2fff(0x2b2))[_0x4d2fff(0x260)]();if(_0x432a37=='')return;addChatMessage(_0x4d2fff(0x220)+createTextLinks_($(_0x4d2fff(0x2b2))[_0x4d2fff(0x260)]())+_0x4d2fff(0x24b)),sendMessage(_0x4d2fff(0x27d)+JSON[_0x4d2fff(0x29a)](_0x432a37)+'}'),$(_0x4d2fff(0x2b2))[_0x4d2fff(0x260)](''),$(_0x4d2fff(0x296))['scrollTop']($(_0x4d2fff(0x296))[0x0][_0x4d2fff(0x25b)]);}),$(_0x102ab3(0x2b2))[_0x102ab3(0x252)](function(_0x8df4ea){var _0x4ae642=_0x102ab3;if(_0x8df4ea['which']==0xd)return $('#chat-submit')[_0x4ae642(0x205)](),![];}),$(_0x102ab3(0x22e))['on']('click',function(){var _0x33a6a1=_0x102ab3;if(document[_0x33a6a1(0x297)]||document[_0x33a6a1(0x1e8)]||document[_0x33a6a1(0x262)]||document['msFullscreenElement']){$(_0x33a6a1(0x204))[_0x33a6a1(0x26f)](_0x33a6a1(0x24c)),$(_0x33a6a1(0x204))[_0x33a6a1(0x1ef)](_0x33a6a1(0x223));if(document[_0x33a6a1(0x22b)])document[_0x33a6a1(0x22b)]();else{if(document[_0x33a6a1(0x292)])document[_0x33a6a1(0x292)]();else{if(document['webkitExitFullscreen'])document[_0x33a6a1(0x234)]();else document['msExitFullscreen']&&document[_0x33a6a1(0x288)]();}}}else{$(_0x33a6a1(0x204))[_0x33a6a1(0x1ef)](_0x33a6a1(0x24c)),$('#video-control-fullscreen>i')['addClass'](_0x33a6a1(0x223)),element=$('.classroom-row')[_0x33a6a1(0x2b1)](0x0);if(element[_0x33a6a1(0x1d1)])element['requestFullscreen']();else{if(element[_0x33a6a1(0x2ad)])element[_0x33a6a1(0x2ad)]();else{if(element['webkitRequestFullscreen'])element['webkitRequestFullscreen'](Element[_0x33a6a1(0x2ac)]);else element[_0x33a6a1(0x1bb)]&&element[_0x33a6a1(0x1bb)]();}}}});function adjustLocalMediaPosition(){var _0x4f930c=_0x102ab3,_0x2abcf0=$('#local-media')[_0x4f930c(0x1d0)](),_0x5923af=$(_0x4f930c(0x22d))[_0x4f930c(0x1d0)](),_0x2e8b6c=0x0;$(_0x4f930c(0x1dc))[_0x4f930c(0x1d0)](_0x5923af),$(_0x4f930c(0x1dc))[_0x4f930c(0x1c3)](_0x4f930c(0x25e),_0x4f930c(0x1ee)),_0x5923af>_0x2abcf0?_0x2e8b6c=_0x5923af/0x2-_0x2abcf0/0x2:_0x2e8b6c=(_0x2abcf0/0x2-_0x5923af/0x2)*-0x1,$(_0x4f930c(0x1dc))['css']('left','-'+_0x2e8b6c+'px'),$(_0x4f930c(0x22d))[_0x4f930c(0x1c3)](_0x4f930c(0x1f5),'-'+_0x2e8b6c+'px');}$('#video-control-chat')['on']('click',function(){toggleChat();});function toggleChat(){var _0xf873e4=_0x102ab3;chat==!![]?$(_0xf873e4(0x280))[_0xf873e4(0x1c3)](_0xf873e4(0x1d0),'100%'):$(_0xf873e4(0x280))[_0xf873e4(0x1c3)]('width',_0xf873e4(0x1d2)),chat=!chat;}$(document)['ready'](function(){var _0x269bec=_0x102ab3;tippy(_0x269bec(0x270),{'delay':0x64,'arrow':!![],'arrowType':_0x269bec(0x266),'size':_0x269bec(0x28c),'duration':0xc8,'animation':_0x269bec(0x1e4),'animateFill':!![],'theme':_0x269bec(0x299),'distance':0xa});});function switchToRemoteVideo(){var _0x4fead4=_0x102ab3;localTracks[_0x4fead4(0x1d7)](_0x1e95ec=>{var _0x4180f9=_0x4fead4;_0x1e95ec[_0x4180f9(0x294)]!='data'&&$(_0x4180f9(0x251))['remove'](_0x1e95ec[_0x4180f9(0x23f)]());}),remoteTrack!=undefined&&remoteTrack['forEach'](_0x49541a=>{var _0x4b4823=_0x4fead4;_0x49541a[_0x4b4823(0x294)]!=_0x4b4823(0x267)&&$(_0x4b4823(0x1ca))[_0x4b4823(0x24a)](_0x49541a['detach']());}),$(_0x4fead4(0x1ca))[_0x4fead4(0x25f)](''),$('#local-media')[_0x4fead4(0x25f)](''),remoteTrack!=undefined&&remoteTrack['forEach'](_0xcdfaad=>{var _0x31c4c6=_0x4fead4;_0xcdfaad[_0x31c4c6(0x294)]!=_0x31c4c6(0x267)&&$(_0x31c4c6(0x251))[_0x31c4c6(0x227)](_0xcdfaad[_0x31c4c6(0x1f9)]());});}function switchToLocalVideo(){var _0x2ec0ee=_0x102ab3;localTracks[_0x2ec0ee(0x1d7)](_0x51a819=>{var _0x471b2f=_0x2ec0ee;_0x51a819['kind']!=_0x471b2f(0x267)&&$(_0x471b2f(0x251))[_0x471b2f(0x24a)](_0x51a819[_0x471b2f(0x23f)]());}),remoteTrack!=undefined&&remoteTrack[_0x2ec0ee(0x1d7)](_0x3d1534=>{var _0x254c0f=_0x2ec0ee;_0x3d1534[_0x254c0f(0x294)]!=_0x254c0f(0x267)&&$(_0x254c0f(0x1ca))[_0x254c0f(0x24a)](_0x3d1534['detach']());}),$(_0x2ec0ee(0x1ca))[_0x2ec0ee(0x25f)](''),$(_0x2ec0ee(0x251))[_0x2ec0ee(0x25f)](''),localTracks[_0x2ec0ee(0x1d7)](_0x56cd31=>{var _0x4fe014=_0x2ec0ee;_0x56cd31[_0x4fe014(0x294)]!=_0x4fe014(0x267)&&$('#local-media')[_0x4fe014(0x227)](_0x56cd31[_0x4fe014(0x1f9)]());}),remoteTrack!=undefined&&remoteTrack[_0x2ec0ee(0x1d7)](_0x371117=>{var _0x43f8a7=_0x2ec0ee;_0x371117[_0x43f8a7(0x294)]!=_0x43f8a7(0x267)&&$(_0x43f8a7(0x1ca))[_0x43f8a7(0x227)](_0x371117[_0x43f8a7(0x1f9)]());});}$(_0x102ab3(0x206))['on']('click',function(){var _0x937aa0=_0x102ab3;$(_0x937aa0(0x20e))['removeClass'](_0x937aa0(0x2ae)),toggleScreenshare();});async function toggleScreenshare(){var _0x12bb3f=_0x102ab3;screenshare=!screenshare,screenshare?(screenmedia=await navigator[_0x12bb3f(0x1e2)][_0x12bb3f(0x1cf)](),screenTrack=new Twilio[(_0x12bb3f(0x20b))][(_0x12bb3f(0x1e9))](screenmedia[_0x12bb3f(0x27f)]()[0x0]),chatroom[_0x12bb3f(0x281)][_0x12bb3f(0x273)](screenTrack),$(_0x12bb3f(0x2b5))[_0x12bb3f(0x1c3)](_0x12bb3f(0x25e),'none'),$('#content-whiteboard')[_0x12bb3f(0x1c3)](_0x12bb3f(0x25e),_0x12bb3f(0x285)),$(_0x12bb3f(0x210))[_0x12bb3f(0x1c3)]('display','block'),$('#screensharing')[_0x12bb3f(0x227)](screenTrack[_0x12bb3f(0x1f9)]()),$(_0x12bb3f(0x206))[_0x12bb3f(0x26f)](_0x12bb3f(0x2ae)),$(_0x12bb3f(0x206))[_0x12bb3f(0x261)]('title',_0x12bb3f(0x1c4)),sendMessage(_0x12bb3f(0x225)+screenTrack['id']+_0x12bb3f(0x249)),switchToRemoteVideo()):(sendMessage(_0x12bb3f(0x1cb)+screenTrack['id']+_0x12bb3f(0x249)),chatroom[_0x12bb3f(0x281)][_0x12bb3f(0x1ec)](screenTrack),$(_0x12bb3f(0x1fa))['remove'](screenTrack[_0x12bb3f(0x23f)]()),$('#screensharing')['html'](''),screenTrack[_0x12bb3f(0x1c2)](),chatroom['localParticipant']['_removeTrack'](screenTrack),$(_0x12bb3f(0x2b5))[_0x12bb3f(0x1c3)](_0x12bb3f(0x25e),'block'),$(_0x12bb3f(0x24d))['css']('display',_0x12bb3f(0x285)),$(_0x12bb3f(0x210))['css'](_0x12bb3f(0x25e),_0x12bb3f(0x285)),$('#video-control-screensharing')['removeClass'](_0x12bb3f(0x2ae)),$(_0x12bb3f(0x206))['attr'](_0x12bb3f(0x1de),_0x12bb3f(0x272)),switchToLocalVideo());}async function loadLesson(){var _0x4f2003=_0x102ab3;if(lid==undefined||lid==''){windows['location'][_0x4f2003(0x1fb)]=_0x4f2003(0x1ce);return;}lessonData=await r('getLesson',{'lid':lid});var _0x386d96=moment[_0x4f2003(0x284)](lessonData['starttime']),_0x5315e2=moment[_0x4f2003(0x284)](lessonData['endtime']);$('#cls-upcoming-date')['html'](_0x386d96['utcOffset'](UTCOffset)['format']('LT')+_0x4f2003(0x29b)+_0x5315e2[_0x4f2003(0x236)](UTCOffset)[_0x4f2003(0x1f1)]('LT')+_0x4f2003(0x1c1)+_0x386d96[_0x4f2003(0x236)](UTCOffset)[_0x4f2003(0x1f1)]('LL')),$('#cls-upcoming-duration')[_0x4f2003(0x21b)](lessonData[_0x4f2003(0x2a4)]+'\x20'+$[_0x4f2003(0x246)]('_bstr.general.minutes')),$(_0x4f2003(0x2a3))['text'](subjectData[lessonData[_0x4f2003(0x21a)]]);lessonData['sid']==uData[_0x4f2003(0x21f)]?(role=_0x4f2003(0x1be),otherid=lessonData[_0x4f2003(0x2ab)],$(_0x4f2003(0x1d6))[_0x4f2003(0x277)]()):(role='teacher',otherid=lessonData[_0x4f2003(0x216)],$(_0x4f2003(0x23e))[_0x4f2003(0x277)](),$(_0x4f2003(0x1d6))[_0x4f2003(0x235)]());var _0x1879f1=await r(_0x4f2003(0x23b),{'id':otherid});$(_0x4f2003(0x2a1))[_0x4f2003(0x21b)](_0x1879f1[_0x4f2003(0x239)]+'\x20'+_0x1879f1['lastname']),role==_0x4f2003(0x1be)&&($(_0x4f2003(0x293))['attr'](_0x4f2003(0x1fb),'/teacher/'+lessonData[_0x4f2003(0x2ab)]),$(_0x4f2003(0x293))['html']($['i18n'](_0x4f2003(0x237),_0x1879f1[_0x4f2003(0x239)])+_0x4f2003(0x1d9))),$(_0x4f2003(0x2a8))[_0x4f2003(0x261)](_0x4f2003(0x1f7),_0x4f2003(0x244)+_0x1879f1[_0x4f2003(0x21f)]),$(_0x4f2003(0x1e3))[_0x4f2003(0x1c3)](_0x4f2003(0x238),_0x4f2003(0x213)+_0x4f2003(0x244)+_0x1879f1[_0x4f2003(0x21f)]+'\x27)'),$(_0x4f2003(0x28f))['css'](_0x4f2003(0x25e),_0x4f2003(0x1ee)),timer(),timerInterval=setInterval(timer,0x2710);}async function joinLesson(){var _0x367ddd=_0x102ab3,_0xb8e1eb;try{_0xb8e1eb=await r(_0x367ddd(0x289),{'lid':lid});}catch(_0x1662e6){window[_0x367ddd(0x27a)][_0x367ddd(0x1fb)]=_0x367ddd(0x1ce);}if(_0xb8e1eb[_0x367ddd(0x25c)]=='unauthorized'){window[_0x367ddd(0x27a)][_0x367ddd(0x1fb)]='/lessons';return;}lessonData=_0xb8e1eb[_0x367ddd(0x1d5)];if(_0xb8e1eb[_0x367ddd(0x25c)]==_0x367ddd(0x1cc)){lessonData[_0x367ddd(0x216)]==uData[_0x367ddd(0x21f)]?($(_0x367ddd(0x1b7))['text']($[_0x367ddd(0x246)]('_bstr.general.teacher')),role=_0x367ddd(0x1be),otherid=lessonData[_0x367ddd(0x2ab)],$('#video-control-screensharing')[_0x367ddd(0x1c3)](_0x367ddd(0x25e),'none'),$('#video-control-whiteboard')['css'](_0x367ddd(0x25e),'none'),$(_0x367ddd(0x23e))[_0x367ddd(0x235)]()):($(_0x367ddd(0x1b7))[_0x367ddd(0x21b)]($['i18n'](_0x367ddd(0x29c))),role=_0x367ddd(0x21e),otherid=lessonData[_0x367ddd(0x216)],$(_0x367ddd(0x23e))['show']());var _0x32cbe0=moment[_0x367ddd(0x284)](lessonData[_0x367ddd(0x290)]),_0xcf4189=moment[_0x367ddd(0x284)](lessonData[_0x367ddd(0x248)]);$(_0x367ddd(0x286))[_0x367ddd(0x25f)](_0x32cbe0[_0x367ddd(0x236)](UTCOffset)['format']('LT')+'\x20'+_0x32cbe0['utcOffset'](UTCOffset)[_0x367ddd(0x1f1)]('LL')),$(_0x367ddd(0x1fd))[_0x367ddd(0x21b)](lessonData[_0x367ddd(0x2a4)]+'\x20'+$['i18n'](_0x367ddd(0x20d))),$(_0x367ddd(0x1c5))[_0x367ddd(0x21b)](subjectData[lessonData[_0x367ddd(0x21a)]]);var _0x5c3514=await r(_0x367ddd(0x23b),{'id':otherid});$(_0x367ddd(0x21d))[_0x367ddd(0x25f)]('<a\x20id=\x22back-btn\x22\x20class=\x22button\x20gray\x22\x20onclick=\x22disconnectFromVideoChat();\x22>'+$[_0x367ddd(0x246)](_0x367ddd(0x265))+_0x367ddd(0x291)+lessonData['duration']+('\x20'+$[_0x367ddd(0x246)]('_bstr.general.minutes')+'\x20')+subjectData[lessonData[_0x367ddd(0x21a)]]+('\x20'+$['i18n']('_bstr.classroom.with')+'\x20')+_0x5c3514['firstname']+'\x20'+_0x5c3514[_0x367ddd(0x1f3)]),$(_0x367ddd(0x1cd))[_0x367ddd(0x21b)](_0x5c3514[_0x367ddd(0x239)]+'\x20'+_0x5c3514[_0x367ddd(0x1f3)]),token=_0xb8e1eb[_0x367ddd(0x1fc)],connectToVideoChat();return;}}function timer(){var _0x2fdecf=_0x102ab3,_0x5be3a5=moment(),_0x1421c9=moment()[_0x2fdecf(0x209)](),_0x9f2aae=moment[_0x2fdecf(0x284)](lessonData['starttime']),_0x206a98=moment[_0x2fdecf(0x2a4)](_0x9f2aae['diff'](_0x5be3a5));if(_0x1421c9>moment[_0x2fdecf(0x284)](lessonData[_0x2fdecf(0x248)])[_0x2fdecf(0x209)]()+0x12c){$(_0x2fdecf(0x253))['removeClass'](_0x2fdecf(0x2b0)),$(_0x2fdecf(0x240))[_0x2fdecf(0x1ef)](_0x2fdecf(0x255)),$(_0x2fdecf(0x240))[_0x2fdecf(0x26f)](_0x2fdecf(0x259)),$('#cls-upcoming-countdown')[_0x2fdecf(0x21b)]($[_0x2fdecf(0x246)](_0x2fdecf(0x28d)));return;}_0x206a98[_0x2fdecf(0x1e7)](0x5,_0x2fdecf(0x1b8));var _0x4708a7=_0x206a98[_0x2fdecf(0x275)]()+'\x20'+$['i18n']('_bstr.general.days')+'\x20';if(_0x206a98['days']()==0x1)var _0x4708a7=_0x206a98[_0x2fdecf(0x275)]()+'\x20'+$[_0x2fdecf(0x246)](_0x2fdecf(0x219))+'\x20';else{if(_0x206a98[_0x2fdecf(0x275)]()==0x0)var _0x4708a7='';}var _0x587bae=_0x206a98[_0x2fdecf(0x1c7)]()+'\x20'+$[_0x2fdecf(0x246)](_0x2fdecf(0x28b))+'\x20';if(_0x206a98[_0x2fdecf(0x1c7)]()==0x1)var _0x587bae=_0x206a98[_0x2fdecf(0x1c7)]()+'\x20'+$[_0x2fdecf(0x246)](_0x2fdecf(0x276))+'\x20';else{if(_0x206a98[_0x2fdecf(0x1c7)]()==0x0)var _0x587bae='';}var _0x452456=_0x206a98[_0x2fdecf(0x1b8)]()+0x1+'\x20'+$['i18n'](_0x2fdecf(0x20d))+'\x20';if(_0x206a98[_0x2fdecf(0x1b8)]()+0x1==0x1)var _0x452456=_0x206a98[_0x2fdecf(0x1b8)]()+0x1+'\x20'+$[_0x2fdecf(0x246)](_0x2fdecf(0x27b))+'\x20';else{if(_0x206a98[_0x2fdecf(0x1b8)]()+0x1==0x0)var _0x452456='';else{if(_0x206a98[_0x2fdecf(0x1b8)]()+0x1==0x3c)var _0x452456='';}}_0x1421c9>moment[_0x2fdecf(0x284)](lessonData['starttime'])['unix']()-0x12c?(tryconnection=!![],clearInterval(timerInterval),$(_0x2fdecf(0x253))[_0x2fdecf(0x26f)]('available'),$(_0x2fdecf(0x240))[_0x2fdecf(0x26f)](_0x2fdecf(0x255)),$(_0x2fdecf(0x240))[_0x2fdecf(0x1ef)]('gray'),$('#cls-upcoming-countdown')['text']($[_0x2fdecf(0x246)](_0x2fdecf(0x211)))):($(_0x2fdecf(0x253))['removeClass'](_0x2fdecf(0x2b0)),$(_0x2fdecf(0x240))[_0x2fdecf(0x1ef)](_0x2fdecf(0x255)),$(_0x2fdecf(0x240))[_0x2fdecf(0x26f)]('gray'),$(_0x2fdecf(0x240))[_0x2fdecf(0x25f)]('You\x20can\x20connect\x20to\x20the\x20classroom\x20in\x20<br>\x20'+_0x4708a7+_0x587bae+_0x452456));}function openTeacherProfile(){var _0xc576dc=_0x102ab3;if(role==_0xc576dc(0x21e))return;var _0x482918=window[_0xc576dc(0x1df)](_0xc576dc(0x22a)+lessonData[_0xc576dc(0x2ab)],'_blank');_0x482918['focus']();}function _0x3e3e(){var _0x56fbf5=['#content-screensharing','_bstr.classroom.connect','15020xwlEzu','url(\x27','send','Reconnecting\x20your\x20signaling\x20connection!','sid','_bstr.classroom.whiteboard.access.removed','beforeunload','_bstr.general.day','subject','text','#video-control-whiteboard-drawing','#ldi-details-teacher','teacher','_id','<div\x20class=\x22message-bubble\x20me\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-bubble-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','catch','<div\x20class=\x22message-time-sign\x22><span><strong>','icon-feather-minimize-2','video','{\x22type\x22:\x20\x22command\x22,\x20\x22cmd\x22:\x20\x22screensharing_started\x22,\x20\x22value\x22:\x20\x22','\x22\x20target=\x22_blank\x22>','append','load','height','/teacher/','exitFullscreen','code','#local-media>video','#video-control-fullscreen','#button-leave','track','isEnabled','#status-indicator','partner_disconnected','webkitExitFullscreen','hide','utcOffset','_bstr.classroom.viewProfile','background-image','firstname','setItem','getTeacher','Reconnecting\x20your\x20media\x20connection!','whiteboard_student','#c-whiteboard-controls','detach','#cls-upcoming-countdown','180AAPqnG','_bstr.classroom.waitteacher','</strong>\x20','/profilepicture/','push','i18n','filter','endtime','\x22\x20}','remove','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22clearfix\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','icon-feather-maximize-2','#content-whiteboard','#lessonDetails','#login-controls','.local-media-container','#local-media','keypress','#timerbox','scrollTop','button-primary','_bstr.classroom.connected','participantConnected','log','gray','<a\x20href=\x22','scrollHeight','status','display:\x20none\x20!important;','display','html','val','attr','mozFullScreenElement','/tutors/','_bstr.classroom.partnerdisconnect','_bstr.classroom.leave','sharp','data','connect','true','audio','_bstr.classroom.joined','Reconnected\x20your\x20signaling\x20and\x20media\x20connections!','#login','then','addClass','[data-tippy-placement]','disconnected','Share\x20screen','publishTrack','reconnected','days','_bstr.general.hour','show','#classroom-container','participantDisconnected','location','_bstr.general.minute','false','{\x22type\x22:\x20\x22msg\x22,\x20\x22msg\x22:\x20','identity','getTracks','.col-left','localParticipant','createLocalTracks','</a>','utc','none','#ldi-details-date','disconnect','msExitFullscreen','joinLesson','_bstr.classroom.waitstudent','_bstr.general.hours','regular','_bstr.classroom.completed','#video-control-video','#content-upcominglesson','starttime','</a>\x20','mozCancelFullScreen','#cls-upcoming-teacherlink-2','kind','#preview-media>video','#chat-container','fullscreenElement','424699gETMIY','dark','stringify','\x20-\x20','_bstr.general.student','fadeOut','whiteboard_open','</span></div>','176epgrOB','#cls-upcoming-teachername','status-connected','#cls-upcoming-subject','duration','\x20is\x20reconnecting\x20the\x20signaling\x20connection\x20to\x20the\x20Room!','634460RJRIwo','_bstr.classroom.left','#cls-upcoming-image','_bstr.classroom.entered','13807xhEvXm','tid','ALLOW_KEYBOARD_INPUT','mozRequestFullScreen','active','whiteboard_close','available','get','#chat-msg','unset','772912PwFgGt','#content-video','each','#teacher-profile-role','minutes','_bstr.classroom.disconnected','{\x22type\x22:\x20\x22command\x22,\x20\x22cmd\x22:\x20\x22whiteboard_open\x22\x20}','msRequestFullscreen','_bstr.classroom.attemptingreconnect','segmentPerson','student','screensharing_started','participants','<br/>','stop','css','Stop\x20screen\x20sharing','#ldi-details-subject','parse','hours','status-disconnected','participantReconnecting','#remote-media','{\x22type\x22:\x20\x22command\x22,\x20\x22cmd\x22:\x20\x22screensharing_stopped\x22,\x20\x22value\x22:\x20\x22','active_lesson','#teacher-profile-name','/lessons','getDisplayMedia','width','requestFullscreen','70%','getItem','style','lesson','#c-whiteboard-protection','forEach','brainstr-chathis-','\x20<i\x20class=\x22icon-line-awesome-long-arrow-right\x22></i>','\x20has\x20reconnected\x20the\x20signaling\x20connection\x20to\x20the\x20Room!','_bstr.classroom.connecting','#local-media-status','value','title','open','_bstr.classroom.alreadyin','reconnecting','mediaDevices','#teacher-profile-image','shift-away','message','isDrawingMode','subtract','webkitFullscreenElement','LocalVideoTrack','trackSubscribed','<div\x20class=\x22message-time-sign\x22><span>','unpublishTrack','http://','block','removeClass','isSubscribed','format','3GrmBaI','lastname','type','left','screensharing_stopped','src','replace','attach','#screensharing','href','token','#ldi-details-duration','12865629gaBMsK','connecting','2748tADZcX','#preview-media','14659200CIjVjs','msg','#video-control-fullscreen>i','click','#video-control-screensharing','connected','whiteboard_erase','unix','drawBokehEffect','Video','command','_bstr.general.minutes','#video-control-whiteboard','LocalDataTrack'];_0x3e3e=function(){return _0x56fbf5;};return _0x3e3e();}function connect(){tryconnection&&joinLesson();}function openTeachers(){var _0x4ea693=_0x102ab3;window[_0x4ea693(0x27a)][_0x4ea693(0x1fb)]=_0x4ea693(0x263);}function createTextLinks_(_0x57e089){var _0x491539=_0x102ab3;return(_0x57e089||'')[_0x491539(0x1f8)](/([^\S]|^)(((https?\:\/\/)|(www\.))(\S+))/gi,function(_0x87bcb1,_0x10dd51,_0x257e00){var _0x3fbaeb=_0x491539,_0x22d8fd=_0x257e00;return!_0x22d8fd['match']('^https?://')&&(_0x22d8fd=_0x3fbaeb(0x1ed)+_0x22d8fd),_0x10dd51+_0x3fbaeb(0x25a)+_0x22d8fd+_0x3fbaeb(0x226)+_0x257e00+_0x3fbaeb(0x283);});};window['addEventListener'](_0x102ab3(0x218),()=>{chatroom['disconnect']();});function setStatus(_0x3c704e){var _0x2cc7c9=_0x102ab3;$(_0x2cc7c9(0x232))[_0x2cc7c9(0x1ef)](_0x2cc7c9(0x2a2)),$(_0x2cc7c9(0x232))[_0x2cc7c9(0x1ef)]('status-disconnected');switch(_0x3c704e){case _0x2cc7c9(0x207):$(_0x2cc7c9(0x232))[_0x2cc7c9(0x26f)](_0x2cc7c9(0x2a2)),$(_0x2cc7c9(0x232))[_0x2cc7c9(0x21b)]($[_0x2cc7c9(0x246)](_0x2cc7c9(0x256)));break;case _0x2cc7c9(0x271):$(_0x2cc7c9(0x232))[_0x2cc7c9(0x26f)]('status-disconnected'),$('#status-indicator')[_0x2cc7c9(0x21b)]($[_0x2cc7c9(0x246)](_0x2cc7c9(0x1b9)));break;case _0x2cc7c9(0x1ff):$(_0x2cc7c9(0x232))[_0x2cc7c9(0x26f)](_0x2cc7c9(0x1c8)),$(_0x2cc7c9(0x232))['text']($[_0x2cc7c9(0x246)](_0x2cc7c9(0x1db)));break;case'reconnecting':$(_0x2cc7c9(0x232))[_0x2cc7c9(0x26f)](_0x2cc7c9(0x1c8)),$('#status-indicator')[_0x2cc7c9(0x21b)]($['i18n'](_0x2cc7c9(0x1bc)));break;case _0x2cc7c9(0x233):$(_0x2cc7c9(0x232))[_0x2cc7c9(0x26f)](_0x2cc7c9(0x1c8)),$(_0x2cc7c9(0x232))['text']($[_0x2cc7c9(0x246)](_0x2cc7c9(0x264)));break;}}function addChatMessage(_0x2b9f45){var _0x513a45=_0x102ab3;if(_0x2b9f45==undefined||_0x2b9f45==null)return;$('#chat-container')[_0x513a45(0x227)](_0x2b9f45);var _0x306b8f=localStorage[_0x513a45(0x1d3)](_0x513a45(0x1d8)+lessonData['_id']);(_0x306b8f==null||_0x306b8f==undefined)&&(_0x306b8f=''),localStorage[_0x513a45(0x23a)]('brainstr-chathis-'+lessonData['_id'],_0x306b8f+_0x2b9f45),$(_0x513a45(0x296))['scrollTop']($(_0x513a45(0x296))[0x0][_0x513a45(0x25b)]);}